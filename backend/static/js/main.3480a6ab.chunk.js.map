{"version":3,"sources":["store/actions/actionType.js","store/reducers/auth_reducer.js","store/reducers/profile_reducer.js","store/reducers/swipe_reducer.js","store/reducers/index.js","store/actions/auth_action.js","assets/home_page2.jpg","Authentication/Home.js","Authentication/Login.js","store/actions/profile_action.js","store/actions/swipe_action.js","Authentication/Signup.js","Authentication/Activate.js","Authentication/Navbar.js","Authentication/PasswordReset.js","Authentication/PasswordResetConfirm.js","Swipe/Header.js","Swipe/Footer.js","Swipe/MatchedCard.js","Swipe/Match.js","Swipe/Card.js","Swipe/Cards.js","Setting/Profile.js","Setting/Setting.js","Setting/Editor.js","Chat/WebSocket.js","Chat/MessageHandler.js","Chat/Chat.js","Chat/ChatPanel.js","Chat/ChatPanels.js","App.js","hoc/Layout.js","index.js"],"names":["LOGIN_SUCCESS","LOGIN_FAIL","LOAD_USER_SUCCESS","LOAD_USER_FAIL","AUTHENTICATED_SUCCESS","AUTEHNTICATED_FAIL","PASSWORD_RESET_SUCCESS","PASSWORD_RESET_FAIL","PASSWORD_RESET_CONFIRM_SUCCESS","PASSWORD_RESET_CONFIRM_FAIL","LOG_OUT","SIGNUP_SUCCESS","SIGNUP_FAIL","ACTIVATION_SUCCESS","ACTIVATION_FAIL","PROFILE_CREATE_SUCCESS","PROFILE_CREATE_FAIL","PROFILE_RECEIVE_SUCCESS","PROFILE_RECEIVE_FAIL","PROFILE_UPDATE_SUCCESS","PROFILE_UPDATE_FAIL","PROFILE_DELETE_SUCCESS","PROFILE_DELETE_FAIL","SWIPE_CREATE_SUCCESS","SWIPE_CREATE_FAIL","SWIPE_RECEIVE_SUCCESS","SWIPE_RECEIVE_FAIL","SWIPE_UPDATE_SUCCESS","initialState","access","localStorage","getItem","refresh","isAuthenticated","name","id","auth_reducer","state","action","type","payload","actionType","setItem","removeItem","profile_id","age","gender","native_lan","foreign_lan","image","location","time_start","time_end","intro","freeday","profile_reducer","geder","swipe_id","swiped","liked","swipe_reducer","combineReducers","load_user","dispatch","a","config","headers","axios","get","process","res","console","log","data","checkAuthenticated","body","JSON","stringify","token","post","logout","Home","Background","width","height","backgroundSize","backgroundImage","style","className","to","onfocus","connect","login","email","password","auth_actions","receive_profile","profile_actions","receive_swipe","swipe_actions","props","useState","formData","setFormData","onChange","e","target","value","IconButton","onSubmit","preventDefault","placeholder","required","signup","re_password","profile_create","user","swipe","response","request","swipe_create","profile","setAccountCreated","languages","hidden","map","language","onFocus","textAlign","objects","uid","match","params","verify","verified","setVerified","marginTop","onClick","class","data-toggle","data-target","aria-controls","aria-expanded","aria-label","reset_password","requestSent","setRequestSent","reset_password_confirm","new_password","re_new_password","Header","backButton","history","useHistory","fontSize","Footer","swipe_left","swipe_right","useStyles","makeStyles","theme","expand","transform","marginLeft","marginRight","outline","transition","transitions","create","duration","shortest","expandOpen","MatchedCard","classes","React","expanded","setExpanded","Card","CardMedia","title","handleClose","CardActions","disableSpacing","clsx","CardContent","Typography","variant","color","component","Collapse","in","timeout","unmountOnExit","paragraph","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","boxShadow","shadows","Match","Modal","aria-labelledby","aria-describedby","open","popup","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","person","onClose","OneCard","Number","Swipe","put","people","setPeople","setLastDirection","setPopup","matchedPerson","setMatchedPerson","alredyRemoved","useEffect","then","users","childRefs","useMemo","Array","length","fill","i","createRef","dir","cardsLeft","filter","includes","toBeRemoved","index","indexOf","push","current","ref","onSwipe","direction","onCardLeftScreen","preventSwipe","update","account_id","FormData","append","profileUpdated","setProfileUpdated","formImage","setFormImage","encType","parseInt","sex","selected","day","accept","files","image_file","WebSocketService","callbacks","this","socketRef","instace","instance","chaturl","path","WebSocket","onopen","socketNewMessage","command","onmessage","onclose","onerror","message","close","parseData","parse","Object","keys","messages","username","ChatID","sendMessage","from","content","messagesCallback","newMessageCallback","send","err","readyState","WebSocketInstance","getInstance","waitForSocketConnection","callback","setTimeout","initializeChat","setMessage","addMessage","addCallbacks","fetchMessages","input","setInput","setMessages","fetchMessage","fetched_messages","reverse","Avatar","alt","src","timestamp","substring","messageObject","chatID","newChatMessage","sendMessageHandler","ChatPanel","link","friends","setFriends","defaults","friend","children","exact","Login","Signup","PasswordReset","PasswordResetConfirm","Activate","Chat","Cards","Setting","ChatPanels","Editor","middelware","thunk","store","createStore","reducer","composeWithDevTools","applyMiddleware","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3480a6ab.chunk.js","sourcesContent":["export const LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL'\r\nexport const LOAD_USER_SUCCESS = 'LOAD_USER_SUCCESS'\r\nexport const LOAD_USER_FAIL = 'LOAD_USER_FAIL'\r\nexport const AUTHENTICATED_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const AUTEHNTICATED_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const PASSWORD_RESET_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const PASSWORD_RESET_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const PASSWORD_RESET_CONFIRM_SUCCESS = 'AUTHENTICATED_SUCCESS'\r\nexport const PASSWORD_RESET_CONFIRM_FAIL = 'AUTHENTICATED_FAIL'\r\nexport const LOG_OUT = 'LOG_OUT'\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS'\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL'\r\nexport const ACTIVATION_SUCCESS = 'ACTIVATION_SUCCESS'\r\nexport const ACTIVATION_FAIL = 'ACTIVATION_FAIL'\r\n\r\nexport const PROFILE_CREATE_SUCCESS = 'PROFILE_CREATE_SUCCESS'\r\nexport const PROFILE_CREATE_FAIL = 'PROFILE_CREATE_FAIL'\r\nexport const PROFILE_RECEIVE_SUCCESS = 'PROFILE_RECEIVE_SUCCESS'\r\nexport const PROFILE_RECEIVE_FAIL = 'PROFILE_RECEIVE_FAIL'\r\nexport const PROFILE_UPDATE_SUCCESS = 'PROFILE_UPDATE_SUCCESS'\r\nexport const PROFILE_UPDATE_FAIL = 'PROFILE_UPDATE_FAIL'\r\nexport const PROFILE_DELETE_SUCCESS = 'PROFILE_DELETE_SUCCESS'\r\nexport const PROFILE_DELETE_FAIL = 'PROFILE_DELETE_FAIL'\r\n\r\nexport const SWIPE_CREATE_SUCCESS = 'SWIPE_CREATE_SUCCESS'\r\nexport const SWIPE_CREATE_FAIL = 'SWIPE_CREATE_FAIL'\r\nexport const SWIPE_RECEIVE_SUCCESS = 'SWIPE_RECEIVE_SUCCESS'\r\nexport const SWIPE_RECEIVE_FAIL = 'SWIPE_RECEIVE_FAIL'\r\nexport const SWIPE_UPDATE_SUCCESS = 'SWIPE_UPDATE_SUCCESS'\r\nexport const SWIPE_UPDATE_FAIL = 'SWIPE_UPDATE_FAIL'\r\nexport const SWIPE_DELETE_SUCCESS = 'SWIPE_DELETE_SUCCESS'\r\nexport const SWIPE_DELETE_FAIL = 'SWIPE_DELETE_FAIL'\r\n\r\nexport const CHAT_CREATE_SUCCESS = 'CHAT_CREATE_SUCCESS'\r\nexport const CHAT_CREATE_FAIL = 'CHAT_CREATE_SUCCESS'\r\nexport const CHAT_FETCH_SUCCESS = 'CHAT_FETCH_SUCCESS'\r\nexport const CHAT_FETCH_FAIL = 'CHAT_FETCH_FAIL'\r\nexport const CHAT_NEW_MESSAGE_SUCCESS = 'CHAT_NEW_MESSAGE_SUCCESS'\r\nexport const CHAT_NEW_MESSAGE_FAIL = 'CHAT_NEW_MESSAGE_FAIL'\r\nexport const CHAT_DELETE_SUCCESS = 'CHAT_DELETE_SUCCESS'\r\nexport const CHAT_DELETE_FAIL = 'CHAT_DELETE_FAIL'\r\n\r\nexport const CONTACT_CREATE_SUCCESS = 'CONTACT_CREATE_SUCCESS'\r\nexport const CONTACT_CREATE_FAIL = 'CONTACT_CREATE_FAIL'\r\nexport const CONTACT_RECEIVE_SUCCESS = 'CONTACT_RECEIVE_SUCCESS'\r\nexport const CONTACT_RECEIVE_FAIL = 'CONTACT_RECEIVE_FAIL'\r\nexport const CONTACT_UPDATE_SUCCESS = 'CONTACT_UPDATE_SUCCESS'\r\nexport const CONTACT_UPDATE_FAIL = 'CONTACT_UPDATE_FAIL'\r\nexport const CONTACT_DELETE_SUCCESS = 'CONTACT_DELETE_SUCCESS'\r\nexport const CONTACT_DELETE_FAIL = 'CONTACT_DELETE_FAIL'\r\n","import * as actionType from '../actions/actionType'\r\n\r\nconst initialState = {\r\n    access: localStorage.getItem('access'),\r\n    refresh: localStorage.getItem('refresh'),\r\n    isAuthenticated: null,\r\n    name: localStorage.getItem('name'),\r\n    id: localStorage.getItem('id')\r\n}\r\n\r\nfunction auth_reducer(state = initialState, action)  {\r\n    const {type, payload } = action\r\n\r\n    switch(type) {\r\n        case actionType.LOGIN_SUCCESS:\r\n            localStorage.setItem('access', payload.access)\r\n            localStorage.setItem('refresh', payload.refresh)\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                access: payload.access,\r\n                refresh: payload.refresh,\r\n                id: payload.id\r\n            }\r\n\r\n        \r\n        case actionType.LOGIN_FAIL:\r\n        case actionType.SIGNUP_FAIL:\r\n        case actionType.LOG_OUT:\r\n            if (localStorage.getItem('access')) {\r\n                localStorage.removeItem('access')\r\n                localStorage.removeItem('refresh')\r\n                localStorage.removeItem('id')\r\n            }\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                name: null,\r\n                id: null  \r\n            }\r\n        \r\n            \r\n        case actionType.LOAD_USER_SUCCESS:\r\n            localStorage.setItem('id', payload.id)\r\n            localStorage.setItem('name', payload.name)\r\n            return {\r\n                ...state,\r\n                name: payload.name,\r\n                id: payload.id\r\n            }\r\n        \r\n        case actionType.LOAD_USER_FAIL:\r\n            return {\r\n                ...state,\r\n                access: null,\r\n                refresh: null,\r\n                isAuthenticated: false,\r\n                name: null,\r\n                id: null\r\n            }\r\n\r\n        case actionType.AUTHENTICATED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                name: payload.name\r\n            }\r\n        \r\n        case actionType.AUTEHNTICATED_FAIL:\r\n            return {\r\n                ...state,\r\n                name: null,\r\n                id: null\r\n            }\r\n\r\n        case actionType.SIGNUP_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                id: payload.id\r\n\r\n            }\r\n        case actionType.PASSWORD_RESET_SUCCESS:\r\n        case actionType.PASSWORD_RESET_FAIL:\r\n        case actionType.PASSWORD_RESET_CONFIRM_SUCCESS:\r\n        case actionType.PASSWORD_RESET_CONFIRM_FAIL:\r\n        case actionType.ACTIVATION_FAIL:\r\n        case actionType.ACTIVATION_SUCCESS:\r\n            return {\r\n                ...state,\r\n            }\r\n        \r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport default auth_reducer\r\n","import * as actionType from '../actions/actionType'\r\nimport image from 'C:\\\\Users\\\\daisuke\\\\ReactProject\\\\chatapp\\\\frontend\\\\src\\\\assets\\\\default_image.jpg'\r\n//localStorage.getItem('profile_id')\r\nconst initialState = {\r\n    profile_id: null,\r\n    name: localStorage.getItem('name'),\r\n    age: localStorage.getItem('age'),\r\n    gender: localStorage.getItem('gender'),\r\n    native_lan:  localStorage.getItem('native_lan'),\r\n    foreign_lan: localStorage.getItem('foreign_lan'),\r\n    image: (localStorage.getItem('image') !== 'null'? localStorage.getItem('image'): ''),\r\n    location: localStorage.getItem('location'),\r\n    time_start: (localStorage.getItem('time_start') !== 'null'? localStorage.getItem('time_start'): ''),\r\n    time_end: (localStorage.getItem('time_end') !== 'null'? localStorage.getItem('time_end'):  ''),\r\n    intro: (localStorage.getItem('intro') !=='null'? localStorage.getItem('intro'): ''),\r\n    freeday: (localStorage.getItem('freeday') !=='null'? localStorage.getItem('freeday'): ''),\r\n}\r\n\r\n// it is not receive to setitem, but create isn't it\r\n// but you do so, you need to set when you update it\r\nfunction profile_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.PROFILE_RECEIVE_SUCCESS:\r\n            localStorage.setItem('profile_id', payload.id)\r\n            localStorage.setItem('name', payload.name)\r\n            localStorage.setItem('age', payload.age)\r\n            localStorage.setItem('gender', payload.gender)\r\n            localStorage.setItem('native_lan', payload.native_lan)\r\n            localStorage.setItem('foreign_lan', payload.foreign_lan)\r\n            localStorage.setItem('image', payload.image)\r\n            localStorage.setItem('location', payload.location)\r\n            localStorage.setItem('time_start', payload.time_start)\r\n            localStorage.setItem('time_end', payload.time_end)\r\n            localStorage.setItem('intro', payload.intro)\r\n            localStorage.setItem('freeday', payload.freeday)\r\n            return {\r\n                ...state,\r\n                profile_id: payload.id,\r\n                name: payload.name,\r\n                age: payload.age,\r\n                gender: payload.geder,\r\n                native_lan:  payload.native_lan,\r\n                foreign_lan: payload.foreign_lan,\r\n                image: payload.image,\r\n                location: payload.location,\r\n                time_start: payload.time_start,\r\n                time_end: payload.time_end,\r\n                intro: payload.intro,\r\n                freeday: payload.freeday,\r\n            }\r\n\r\n        case actionType.PROFILE_UPDATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile_id: payload.id,\r\n                name: payload.name,\r\n                age: payload.age,\r\n                gender: payload.geder,\r\n                native_lan:  payload.native_lan,\r\n                foreign_lan: payload.foreign_lan,\r\n                image: payload.image,\r\n                location: payload.location,\r\n                time_start: payload.time_start,\r\n                time_end: payload.time_end,\r\n                intro: payload.intro,\r\n                freeday: payload.freeday,\r\n            }\r\n        case actionType.PROFILE_DELETE_SUCCESS:\r\n            localStorage.removeItem('profile_id')\r\n            localStorage.removeItem('name')\r\n            localStorage.removeItem('age')\r\n            localStorage.removeItem('gender')\r\n            localStorage.removeItem('native_lan')\r\n            localStorage.removeItem('foreign_lan')\r\n            localStorage.removeItem('image')\r\n            localStorage.removeItem('location')\r\n            localStorage.removeItem('time_start')\r\n            localStorage.removeItem('time_end')\r\n            localStorage.removeItem('intro')\r\n            localStorage.removeItem('freeday')\r\n            return {\r\n                ...state\r\n            }\r\n            \r\n        case actionType.PROFILE_CREATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile_id: payload.id\r\n            }\r\n\r\n        case actionType.PROFILE_UPDATE_FAIL:\r\n        case actionType.PROFILE_RECEIVE_FAIL:\r\n        case actionType.PROFILE_DELETE_FAIL:\r\n            return {\r\n                ...state\r\n            }\r\n\r\n        case actionType.SWIPE_UPDATE_SUCCESS:\r\n            return {\r\n                ...state,\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\nexport default profile_reducer","import * as actionType from '../actions/actionType'\r\n//localStorage.getItem('swipe_id')\r\nconst initialState = {\r\n    swipe_id: localStorage.getItem('swipe_id'), \r\n    // swiped: JSON.parse(localStorage.getItem('swiped')),\r\n    // liked: JSON.parse(localStorage.getItem('liked')),\r\n    swiped: localStorage.getItem('swiped'),\r\n    liked: localStorage.getItem('liked')\r\n}\r\n\r\nfunction swipe_reducer(state=initialState, action) {\r\n    const {type, payload} = action\r\n\r\n    switch(type) {\r\n        case actionType.SWIPE_CREATE_SUCCESS:\r\n        //localStorage.setItem('swipe_id', payload.id)\r\n            return {\r\n                ...state,\r\n                swipe_id: payload.id\r\n            }\r\n\r\n        case actionType.SWIPE_RECEIVE_SUCCESS:\r\n            localStorage.setItem('swipe_id', payload.id)\r\n            localStorage.setItem('swiped', payload.swiped)\r\n            localStorage.setItem('liked', payload.liked)\r\n            return {\r\n                ...state,\r\n                swipe_id: payload.id,\r\n                swiped: payload.swiped,\r\n                liked: payload.liked\r\n            }\r\n\r\n        case actionType.SWIPE_CREATE_FAIL:\r\n        case actionType.SWIPE_RECEIVE_FAIL:\r\n            return {\r\n                ...state,\r\n            }\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}\r\n\r\n\r\nexport default swipe_reducer\r\n\r\n","import { combineReducers } from 'redux'\r\nimport auth_reducer from './auth_reducer'\r\nimport profile_reducer from './profile_reducer'\r\nimport swipe_reducer from './swipe_reducer'\r\nexport default combineReducers({\r\n    auth_reducer,\r\n    profile_reducer,\r\n    swipe_reducer,\r\n})","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\nexport const load_user = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `JWT ${localStorage.getItem('access')}`,\r\n                'Accept': 'application/json'\r\n            }\r\n        }\r\n        try {\r\n            // use shift and @ instead of shift and 7\r\n            const res = await axios.get(`${process.env.REACT_APP_API_URL}/auth/users/me/`, config)\r\n            console.log('data in load::', res.data)\r\n            dispatch({\r\n                type: actionType.LOAD_USER_SUCCESS,\r\n                payload: res.data})\r\n        } catch (err) {\r\n        dispatch({\r\n                type: actionType.LOAD_USER_FAIL})\r\n        }\r\n    } else {\r\n        console.log('no access')\r\n        dispatch({\r\n            type: actionType.LOAD_USER_FAIL})\r\n    }\r\n}\r\nexport const login = (email, password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({email, password})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/create/`, body, config)\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: actionType.LOGIN_SUCCESS,\r\n            payload: res.data})\r\n\r\n        dispatch(load_user())\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.LOGIN_FAIL})\r\n    }\r\n}\r\n\r\nexport const checkAuthenticated = () => async dispatch => {\r\n    if (localStorage.getItem('access')) {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({ token: localStorage.getItem('access')})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/jwt/verify/`, body, config)\r\n\r\n            if (res !== 'token_not_valid') {\r\n                dispatch({\r\n                    type: actionType.AUTHENTICATED_SUCCESS\r\n                })\r\n            } else {\r\n                dispatch({\r\n                    type: actionType.AUTEHNTICATED_FAIL\r\n            })\r\n        }\r\n            \r\n        } catch(err) {\r\n            dispatch({\r\n                type: actionType.AUTEHNTICATED_FAIL\r\n            })\r\n        }\r\n        \r\n    } else {\r\n        dispatch({\r\n            type: actionType.AUTEHNTICATED_FAIL\r\n        })\r\n    }\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n    dispatch({\r\n        type: actionType.LOG_OUT\r\n    })\r\n}\r\n\r\nexport const reset_password = (email) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({email})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password/`, body, config)\r\n        console.log('PASSWORD_RESET')\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_SUCCESS,\r\n            payload: res.data})\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_FAIL})\r\n    }\r\n}\r\n\r\nexport const reset_password_confirm = (uid, token, new_password, re_new_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({uid, token, new_password, re_new_password})\r\n    console.log('PASSWORD_RESET_CONFIRM')\r\n    try {\r\n        await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/reset_password_confirm/`, body, config)\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_CONFIRM_SUCCESS})\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.PASSWORD_RESET_CONFIRM_FAIL})\r\n    }\r\n}\r\n\r\nexport const signup = (name, email, password, re_password) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({name, email, password, re_password})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/`, body, config)\r\n        console.log('res in signup::', res.data)\r\n        //{name: \"lol\", email: \"jeorgia.zr@gmail.com\", id: 2}\r\n        dispatch({\r\n            type: actionType.SIGNUP_SUCCESS,\r\n            payload: res.data})\r\n            localStorage.setItem('name', name)\r\n        \r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: actionType.SIGNUP_FAIL})\r\n    }\r\n\r\n}\r\n\r\nexport const verify = (uid, token) => async dispatch => {\r\n    const config = {\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    const body = JSON.stringify({uid, token})\r\n\r\n    try {\r\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/users/activation/`, body, config)\r\n        console.log(res.data)\r\n        dispatch({\r\n            type: actionType.ACTIVATION_SUCCESS,\r\n            payload: res.data})\r\n\r\n    } catch (err) {\r\n        console.log(err.response)\r\n        dispatch({\r\n            type: actionType.ACTIVATION_FAIL})\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n// try {\r\n//     const res = await axios.get(`${process.env.REACT_APP_API_URL}/account/detail/${email}/`)\r\n//     console.log(res.data)\r\n//     localStorage.setItem('id', res.data.id)\r\n// } catch (err) {\r\n//     dispatch({\r\n//         type:actionType.SIGNUP_FAIL\r\n//     })\r\n// }","export default __webpack_public_path__ + \"static/media/home_page2.35e0fb3d.jpg\";","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport image from '../assets/home_page2.jpg'\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport '../assets/Authentication/Home.css'\r\nconst Home = () => {\r\n    const Background = {\r\n        width: '100%',\r\n        height: '800px',\r\n        backgroundSize: 'cover',\r\n        backgroundImage: `url(${image})`\r\n    }\r\n    return (\r\n        <div style={Background} className='home'>\r\n            <div className='home_title'><SpaIcon id='home_logo'/><h1>Speak Up</h1></div>\r\n            <h1 className='home_intro'>Find Your Language Exchange Partner!!</h1>\r\n            <Link to='/login'>\r\n            <button className='home_button1' onfocus=\"this.blur();\"><span>Sign In</span></button>\r\n            </Link>\r\n            <Link to='/signup'>\r\n            <button className='home_button2' onfocus=\"this.blur();\"><span>Sign Up</span></button>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React, { useState }from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport { IconButton } from '@material-ui/core';\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport * as profile_actions from '../store/actions/profile_action'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\nimport '../assets/Authentication/Login.css'\r\nconst Login = (props) => {\r\n    const [formData, setFormData] = useState({\r\n        email:'',\r\n        password:''\r\n    })\r\n    const {email, password} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        props.login(email, password)\r\n    }\r\n    if (props.id && props.isAuthenticated) {\r\n        console.log('id::', props.id)\r\n        props.receive_profile(props.id)\r\n        props.receive_swipe(props.id)\r\n        return <Redirect to='/swipe'/>\r\n    }\r\n    return (\r\n    <div className='login'>\r\n        <header className='login_header'>\r\n            <Link to='/'>\r\n            <IconButton id='login_back'>\r\n                <ArrowBackIosIcon/>\r\n            </IconButton>\r\n            </Link>\r\n            <div className='login_title'><SpaIcon id='login_logo'/><h1>Speak Up</h1></div>\r\n        </header>\r\n        <div className='login_form'>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n                <input \r\n                className='login_input'\r\n                type='email'\r\n                placeholder='Email'\r\n                name='email'\r\n                value={email}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n                <input \r\n                className='login_input'\r\n                type='password'\r\n                placeholder='Password'\r\n                name='password'\r\n                value={password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n                <button className='login_button' type='submit'onfocus=\"this.blur();\"><span>Log In</span></button>\r\n        </form>\r\n        <p className='mt-3'>\r\n            Don't have an account? <Link to='/signup'>Sign up</Link>\r\n        </p>\r\n        <p className='mt-3'>\r\n            Forget your password? <Link to='/reset_password'>Reset Password</Link>\r\n        </p>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    id: state.auth_reducer.id,\r\n    gender: state.profile_reducer.gender\r\n}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        login : (email, password) => dispatch(auth_actions.login(email, password)),\r\n        receive_profile : (id) => dispatch(profile_actions.Receive(id)),\r\n        receive_swipe: (id) => dispatch(swipe_actions.Receive(id))\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Login)","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\n\r\nexport const Create = (user, name, native_lan, foreign_lan) => async dispatch => {\r\n    if (user != null) {\r\n        const config = {\r\n            headers: {\r\n            'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        const body = JSON.stringify({user, name, native_lan, foreign_lan})\r\n        try {\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/profile/create/`, body, config)\r\n            console.log('data::',res.data)\r\n            dispatch({\r\n                type: actionType.PROFILE_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        } catch(err) {\r\n            console.log(err.response.request)\r\n            dispatch({\r\n                type: actionType.PROFILE_CREATE_FAIL\r\n            })\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.PROFILE_CREATE_FAIL\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const Receive = (id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/profile/detail/${id}/`)\r\n        dispatch ({\r\n            type: actionType.PROFILE_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type:actionType.PROFILE_RECEIVE_FAIL,\r\n        })\r\n    }\r\n}\r\n\r\nexport const Update = (profile_id, name, age, gender, native_lan, foreign_lan, image, location, time_start, time_end, intro, freeday) => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {'Content-Type': 'multipart/form-data',\r\n            //multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW\r\n            //multipart/form-data\r\n            //'Accept': 'application/json'\r\n        }}\r\n        const formData = new FormData();\r\n        formData.append(\"name\", name)\r\n        // formData.append(\"age\", age)\r\n        formData.append(\"gender\", gender)\r\n        formData.append(\"native_lan\", native_lan)\r\n        formData.append(\"foreign_lan\", foreign_lan)\r\n        formData.append(\"location\", location)\r\n        formData.append(\"time_start\", time_start)\r\n        formData.append(\"time_end\", time_end)\r\n        formData.append(\"intro\", intro)\r\n        formData.append(\"freeday\", freeday)\r\n        if (image !== '') {\r\n            console.log('appended')\r\n            formData.append(\"image\", image)\r\n        }\r\n        console.log('type::',typeof age)\r\n\r\n\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/profile/update/${profile_id}/`, formData, config)\r\n        dispatch({\r\n            type: actionType.PROFILE_UPDATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        console.log(err.response.request.response)\r\n        console.log(err)\r\n        dispatch({\r\n            type: actionType.PROFILE_UPDATE_FAIL,\r\n\r\n        })\r\n    }\r\n}\r\n\r\nexport const Delete = (profile_id) => async dispatch => {\r\n    try {\r\n        await axios.delete(`${process.env.REACT_APP_API_URL}/profile/delete/${profile_id}/`)\r\n        dispatch({\r\n            type: actionType.PROFILE_DELETE_SUCCESS,\r\n        })\r\n    } catch(err) {\r\n        dispatch({\r\n            type: actionType.PROFILE_DELETE_FAIL\r\n        })\r\n    }\r\n}\r\n\r\n","import * as actionType from './actionType'\r\nimport axios from 'axios'\r\n\r\nexport const Create = (user) => async dispatch =>{\r\n    if (user != null) {\r\n        try {\r\n            const config = {\r\n                headers : {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n            const body = JSON.stringify({user})\r\n            const res = await axios.post(`${process.env.REACT_APP_API_URL}/swipe/create/`, body, config)\r\n            dispatch({\r\n                type: actionType.SWIPE_CREATE_SUCCESS,\r\n                payload: res.data\r\n            })\r\n        \r\n        } catch(err) {\r\n            console.log('error::',err)\r\n            dispatch({\r\n                type: actionType.SWIPE_CREATE_FAIL\r\n            })\r\n        }\r\n    } else {\r\n        dispatch({\r\n            type: actionType.SWIPE_CREATE_FAIL\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport const Receive = (id) => async dispatch => {\r\n    try {\r\n        const res = await axios.get(`${process.env.REACT_APP_API_URL}/swipe/detail/${id}/`)\r\n        dispatch({\r\n            type: actionType.SWIPE_RECEIVE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        console.log('err::',err)\r\n        dispatch({\r\n            type: actionType.SWIPE_RECEIVE_FAIL\r\n        })\r\n    }\r\n}\r\n\r\nexport const Swipe = (swipe_id, swiped, liked) => async dispatch => {\r\n    try {\r\n        const config = {\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        var body = null\r\n        if (liked === null) {\r\n            body = JSON.stringify({swiped})\r\n        } else {\r\n            body = JSON.stringify({swiped, liked})\r\n        }\r\n        const res = await axios.put(`${process.env.REACT_APP_API_URL}/swipe/update/${swipe_id}/`, body, config)\r\n        dispatch({\r\n            type: actionType.SWIPE_UPDATE_SUCCESS,\r\n            payload: res.data\r\n        })\r\n    } catch(err) {\r\n        console.log('error::', err.response)\r\n        dispatch({\r\n            type: actionType.SWIPE_UPDATE_FAIL\r\n        })\r\n    }\r\n}","import React, { useState, useEffect}from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport * as profile_actions from '../store/actions/profile_action'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport { IconButton } from '@material-ui/core';\r\nimport '../assets/Authentication/Signup.css'\r\n\r\nconst Signup = (props) => {\r\n    const [accountCreated, setAccountCreated] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email:'',\r\n        password:'',\r\n        re_password: '',\r\n        native_lan: '',\r\n        foreign_lan: ''\r\n    })\r\n\r\n\r\n    const {name, email, password, re_password, native_lan, foreign_lan} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        props.signup(name, email, password, re_password)\r\n        setAccountCreated(true)\r\n    }\r\n\r\n    if (props.id) {\r\n        props.profile_create(props.id, name, native_lan, foreign_lan)\r\n        props.swipe_create(props.id)\r\n    }\r\n    \r\n\r\n\r\n     \r\n\r\n    const languages = ['Arabic','Bengali','Burmese','Chinese','English','French','German','Gujarati','Hindi','Italian','Japanese','Kannada','Korean','Malayalam',\r\n'Marathi','Oriya','Panjabi','Persian','Polish','Portuguese','Russian','Spanish','Tamil','Telugu','Thai','Turkish','Ukrainian','Urdu','Vietnamese']\r\n    if (props.isAuthenticated) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    if (props.id) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='signup'>\r\n        <header className='signup_header'>\r\n            <Link to='/'>\r\n            <IconButton id='signup_back'>\r\n                <ArrowBackIosIcon/>\r\n            </IconButton>\r\n            </Link>\r\n            <div className='signup_title'><SpaIcon id='signup_logo'/><h1>Speak Up</h1></div>\r\n        </header>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div  className='signup_form'>\r\n            <div className='col signup_form1'>\r\n                <input className='signup_input' type='name' placeholder='Name*' name='name'\r\n                value={name} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='email'\r\n                placeholder='Email*' name='email' value={email} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='password' placeholder='Password*' name='password'\r\n                value={password} onChange={e => onChange(e)} required/>\r\n                <input className='signup_input' type='password' placeholder='Confirm Password*'\r\n                name='re_password' value={re_password} onChange={e => onChange(e)} required/>\r\n                </div>\r\n                <div className='col signup_form2'>\r\n                <div className='signup_lan'>\r\n                    What language are you fluent in?\r\n                <select className='signup_select' name='native_lan' required onChange={e => onChange(e)}>\r\n                    <option hidden>You speak ...</option>\r\n                    {languages.map((language) => {\r\n                        return <option value={language}>{language}</option>\r\n                    })}\r\n                </select>\r\n                </div>\r\n                <div className='signup_lan'>\r\n                    What do you want to learn?\r\n                <select className='signup_select' name='foreign_lan' required onChange={e => onChange(e)}>\r\n                    <option hidden>You want to learn ...</option>\r\n                    {languages.map((language) => {\r\n                        return <option value={language}>{language}</option>\r\n                    })}\r\n                </select>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                <div className='signup_button'>\r\n                        <button  onFocus=\"this.blur();\" type='submit'><span>Sign Up</span></button>\r\n                </div>\r\n        </form>\r\n        <p style={{textAlign: 'center'}}>\r\n            Already have an account? <Link to='/login'>Log in</Link>\r\n        </p>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapstateToProps = state => ({\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    id: state.auth_reducer.id,\r\n    profile_id : state.profile_reducer.profile_id\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        signup : (name, email, password, re_password) => dispatch(auth_actions.signup(name, email, password, re_password)),\r\n        profile_create: (user, swipe, name, native_lan, foreign_lan) => dispatch(profile_actions.Create(user, swipe, name, native_lan, foreign_lan)),\r\n        swipe_create: (profile) => dispatch(swipe_actions.Create(profile))\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Signup)\r\n","import React, { useState }from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\n\r\nconst Activate = (props) => {\r\n    const [verified, setVerified] = useState(false)\r\n    const verify_account = e => {\r\n        console.log(props.uid, props.token)\r\n        props.verify(props.uid, props.token)\r\n        setVerified(true)\r\n    }\r\n    if (verified) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='eontainer mt-5'>\r\n        <div className='d-flex flex-column justify-content-center align-items-center'\r\n        style={{ marginTop: '200px'}}>\r\n            <h1>Verify your account:</h1>\r\n            <button onClick={verify_account}\r\n            style={{marginTop: '50px'}}\r\n            type='button'\r\n            className='btn btn-primary'>Verify</button>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n    isAuthenticated: state.auth_reducer.isAuthenticated,\r\n    uid: objects.match.params.uid,\r\n    token: objects.match.params.token\r\n\r\n}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        verify : (uid, token) => dispatch(auth_actions.verify(uid, token))\r\n    }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Activate)","import { Link } from 'react-router-dom'\r\nimport React, {Fragment} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nconst Navbar = (props) => {\r\n    const guestLinks = () => (\r\n        <Fragment>\r\n            <li class=\"nav-item active\">\r\n                <Link class=\"nav-link\" to='/login'>Login</Link>\r\n            </li>\r\n            <li class=\"nav-item active\">\r\n                <Link class=\"nav-link\" to='/signup'>Signup</Link>\r\n            </li>\r\n        </Fragment>\r\n    )\r\n    const authLinks = () => (\r\n        <li class=\"nav-item active\">\r\n        <Link class=\"nav-link\" to='/' onClick={props.logout}>Logout<span class=\"sr-only\">(current)</span></Link>\r\n    </li>\r\n    )\r\n\r\n    return (\r\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <Link class=\"navbar-brand\" to=\"/\">Auth System</Link>\r\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n            <ul class=\"navbar-nav\">\r\n            <li class=\"nav-item active\">\r\n            <Link class=\"nav-link\" to='/'>Home<span class=\"sr-only\">(current)</span></Link>\r\n            </li>\r\n            {props.isAuthenticated ? authLinks(): guestLinks()}  \r\n            </ul>\r\n        </div>\r\n        </nav>\r\n        )\r\n    }\r\n\r\n    const mapstateToProps = state => {\r\n        return {\r\n        isAuthenticated: state.auth_reducer.isAuthenticated\r\n    }}\r\n\r\n    const mapDispatchToProps = dispatch => {\r\n        return {\r\n            logout: () => dispatch(auth_actions.logout()),\r\n        }\r\n    }\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Navbar)","import React, { useState }from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport Navbar from './Navbar.js'\r\nconst PasswordReset = (props) => {\r\n    const [requestSent, setRequestSent] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        email:'',\r\n    })\r\n    const {email} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        props.reset_password(email)\r\n        setRequestSent(true)\r\n    }\r\n    if (requestSent) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='eontainer mt-5'>\r\n        <Navbar/>\r\n        <h1>Request Password Reset</h1>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div className='form-group'>\r\n                <input \r\n                className='from-control'\r\n                type='email'\r\n                placeholder='Email'\r\n                name='email'\r\n                value={email}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <button className='btn btn-primary' type='submit'>Reset Password</button>\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reset_password: (email) => dispatch(auth_actions.reset_password(email),)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(PasswordReset)","import React, { useState }from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport Navbar from './Navbar.js'\r\nconst PasswordResetConfirm = (props) => {\r\n    const [requestSent, setRequestSent] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        new_password:'',\r\n        re_new_password:''\r\n    })\r\n    console.log('token::', props.token)\r\n    const {new_password, re_new_password} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        const uid = props.uid\r\n        const token = props.token\r\n        props.reset_password_confirm(uid, token, new_password, re_new_password)\r\n        setRequestSent(true)\r\n    }\r\n    if (requestSent) {\r\n        return <Redirect to='/'/>\r\n    }\r\n    return (\r\n    <div className='eontainer mt-5'>\r\n        <Navbar/>\r\n        <h1>Request Password Reset</h1>\r\n        <form onSubmit={e => onSubmit(e)}>\r\n            <div className='form-group'>\r\n                <input \r\n                className='from-control'\r\n                type='password'\r\n                placeholder='New Pasword'\r\n                name='new_password'\r\n                value={new_password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <div className='form-group'>\r\n                <input \r\n                className='from-control'\r\n                type='password'\r\n                placeholder='Confirm New Password'\r\n                name='re_new_password'\r\n                value={re_new_password}\r\n                onChange={e => onChange(e)}\r\n                required/>\r\n            </div>\r\n            <button className='btn btn-primary' type='submit'>PasswordResetConfirm</button>\r\n        </form>\r\n    </div>\r\n    )\r\n}\r\n\r\n// if resetpasswordconfirm send token and uid to this component, but you can't put two variables on PasswordResetConfirm.\r\n// so you need to use mapStateProps to use them\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n        uid: objects.match.params.uid,\r\n        token: objects.match.params.token,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        reset_password_confirm: (uid, token, new_password, re_new_password) => dispatch(auth_actions.reset_password_confirm(uid, token, new_password, re_new_password),)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(PasswordResetConfirm)","import React from 'react'\r\nimport '../assets/Swipe/Header.css'\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\n// import ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos'\r\nimport { IconButton } from '@material-ui/core';\r\nimport {Link, useHistory} from 'react-router-dom'\r\n\r\n// there is two Header so far in App.js. the one is without variable and the other is with a variable\r\n// the first one is backButton is null so you can get PersonIcon\r\n// the second one is backButton is '/' and you can get ArrowbackIosIcon. if you click the icon. you can back to '/' which is backButton\r\nfunction Header({backButton}) {\r\n  const history = useHistory()\r\n  console.log(history)\r\n  return (\r\n    <div className=\"header\">\r\n    <Link to='/setting'>\r\n      <IconButton id='header_icon'>\r\n      <PersonIcon fontSize='large'/>\r\n      </IconButton>\r\n    </Link>\r\n\r\n    <Link to='/swipe'>\r\n      <IconButton id='header_logo'>\r\n      <SpaIcon style={{ fontSize: 50 }}/>\r\n      </IconButton>\r\n    </Link>\r\n\r\n    <Link to='/chatpanel'>\r\n      <IconButton id='header_icon'>\r\n      <QuestionAnswerIcon fontSize='large'/>\r\n      </IconButton>\r\n    </Link>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\nimport '../assets/Swipe/Footer.css'\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\n\r\nimport StarRateIcon from '@material-ui/icons/StarRate';\r\n\r\n\r\nfunction Footer(props) {\r\n  return (\r\n    <div className=\"footer\">\r\n      <IconButton id='swipeButtons_nope' onClick={props.swipe_left}>\r\n        <CloseIcon fontSize='large'/>\r\n      </IconButton>\r\n      <IconButton id='swipeButtons_repeat'>\r\n        <ReplayIcon fontSize='large'/>\r\n      </IconButton>\r\n      <IconButton id='swipeButtons_like' onClick={props.swipe_right}>\r\n        <FavoriteIcon fontSize='large'/>\r\n      </IconButton>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n\r\n// <IconButton id='swipeButtons_star' >\r\n// <StarRateIcon fontSize='large'/>\r\n// </IconButton>","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport clsx from 'clsx';\r\nimport '../assets/Swipe/Match.css'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      outline: 'none',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n  }));\r\n  \r\n\r\nexport default function MatchedCard(props) {\r\n  console.log('props2:', props)\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  function time() {\r\n    var time_range = null\r\n    props.time_start !== null || props.time_end !== null ?\r\n    time_range = <>{props.time_start}~{props.time_end}</>\r\n    :  time_range = (<></>)\r\n    return time_range\r\n}\r\n\r\n\r\n  return (\r\n    <Card id='match_card'>\r\n\r\n        <CardMedia\r\n            className='media'\r\n            image= {props.data.image}\r\n            title=\"Nana Mori\"\r\n            id='match_image'>\r\n        </CardMedia>\r\n\r\n        <IconButton id='match_icon' onClick={props.handleClose}>\r\n            <ClearIcon style={{fontSize: 'large'}}/>\r\n        </IconButton>\r\n\r\n        <h1>New Match!</h1>\r\n\r\n        <CardActions disableSpacing>\r\n            <IconButton\r\n            className={clsx(classes.expand, {\r\n                [classes.expandOpen]: expanded,\r\n            })}\r\n            onClick={handleExpandClick}\r\n            aria-expanded={expanded}\r\n            aria-label=\"show more\"\r\n            style={{outline: 'none', marginTop:'10px'}}>\r\n                <ExpandMoreIcon />\r\n            </IconButton>\r\n      </CardActions>\r\n\r\n\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n        <p1>{props.data.name}</p1>\r\n        </Typography>\r\n      </CardContent>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit >\r\n        <CardContent>\r\n        <Typography paragraph>freeday: {props.freeday}  {time()}</Typography>\r\n          <Typography paragraph>\r\n            {props.intro}\r\n            ganpeanpngeaongoianlkneoanoeanp\r\n            napnegiopwaniogenaopnpoeranopewran\r\n            npagnw\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n      <form className='match_form'>\r\n          <input type='text' placeholder='write the first message!' className='match_input'/>\r\n          <button className='match_submit'>SEND</button>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n      {/* <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n        <Typography paragraph>freeday: {props.freeday}  {time()}</Typography>\r\n          <Typography paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse> */}\r\n\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport MatchedCard from './MatchedCard'\r\nimport '../assets/Swipe/Match.css'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    //border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    //padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function Match(props) {\r\n  const classes = useStyles();\r\n  // const [open, setOpen] = React.useState(props.onOpen);\r\n  console.log('props1:', props)\r\n  // const handleOpen = () => {\r\n  //   setOpen(true);\r\n  // };\r\n\r\n  // const handleClose = () => {\r\n  //   setOpen(false);\r\n  // };\r\n\r\n  // const person = {name:'Yui',\r\n  // image:'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS8UPpwQxL6RFeJ5tNGbpYDkOOB0OCTzq1kgw&usqp=CAU'}\r\n\r\n  return (\r\n    <div>\r\n      {/* <button type=\"button\" onClick={handleOpen}>\r\n        react-transition-group\r\n      </button> */}\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={props.popup}\r\n        // onClose={handleClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 500,\r\n        }}>\r\n        <Fade in={props.popup}>\r\n          <div className={classes.paper}>\r\n          <MatchedCard data={props.person} handleClose={props.onClose}/>\r\n          </div>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n// export default function Match(props) {\r\n//   const classes = useStyles();\r\n//   const [open, setOpen] = React.useState(props.onOpen);\r\n\r\n//   // const handleOpen = () => {\r\n//   //   setOpen(true);\r\n//   // };\r\n\r\n//   // const handleClose = () => {\r\n//   //   setOpen(false);\r\n//   // };\r\n\r\n//   // const person = {name:'Yui',\r\n//   // image:'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS8UPpwQxL6RFeJ5tNGbpYDkOOB0OCTzq1kgw&usqp=CAU'}\r\n\r\n//   return (\r\n//     <div>\r\n//       {/* <button type=\"button\" onClick={handleOpen}>\r\n//         react-transition-group\r\n//       </button> */}\r\n//       <Modal\r\n//         aria-labelledby=\"transition-modal-title\"\r\n//         aria-describedby=\"transition-modal-description\"\r\n//         className={classes.modal}\r\n//         open={open}\r\n//         // onClose={handleClose}\r\n//         closeAfterTransition\r\n//         BackdropComponent={Backdrop}\r\n//         BackdropProps={{\r\n//           timeout: 500,\r\n//         }}>\r\n//         <Fade in={open}>\r\n//           <div className={classes.paper}>\r\n//           <MatchedCard data={props.person} handleClose={handleClose}/>\r\n//           </div>\r\n//         </Fade>\r\n//       </Modal>\r\n//     </div>\r\n//   );\r\n// }","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport '../assets/Swipe/Card.css'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      outline: 'none',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n  }));\r\n\r\n\r\n  \r\n\r\nfunction OneCard(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  function time() {\r\n    var time_range = null\r\n    props.data.time_start != null || props.data.time_end != null ?\r\n    time_range = <>{props.data.time_start}~{props.data.time_end}</>\r\n    :  time_range = (<></>)\r\n    return time_range\r\n}\r\n\r\n  function freeday() {\r\n    var freeday = null\r\n    props.data.freeday != null ?\r\n    freeday = <>freeday: {props.data.freeday}</>\r\n    :\r\n    freeday = null\r\n    return freeday\r\n  }\r\n\r\n  return (\r\n    <Card id='card_root'>\r\n      <CardMedia\r\n        className='media'\r\n        image= {props.data.image}\r\n        title=\"Nana Mori\"\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.data.name}\r\n        </Typography>\r\n      </CardContent>\r\n      <Typography style={{marginLeft: '10px'}}>native language: {props.data.native_lan}<br/>\r\n                 want to learn: {props.data.foreign_lan}<br/><br/>\r\n      </Typography>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n        <Typography paragraph>{freeday()}  {time()}</Typography>\r\n          <Typography paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// const mapstateToProps = state => {\r\n//   return {\r\n//     name: state.profile_reducer.name,\r\n//     gender: state.profile_reducer.gender,\r\n//     age: state.profile_reducer.age,\r\n//     native_lan: state.profile_reducer.native_lan,\r\n//     foreign_lan: state.profile_reducer.foreign_lan,\r\n//     image: state.profile_reducer.image,\r\n//     location: state.profile_reducer.location,\r\n//     time_start: state.profile_reducer.time_start,\r\n//     time_end: state.profile_reducer.time_end,\r\n//     intro: state.profile_reducer.intro,\r\n//     freeday: state.profile_reducer.freeday\r\n\r\n//   }\r\n// }\r\n\r\n// export default connect(mapstateToProps, null)(OneCard)\r\nexport default OneCard","import React, {useState, useEffect, useMemo} from 'react'\r\nimport axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport TinderCard from 'react-tinder-card'\r\nimport '../assets/Swipe/Cards.css'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\nimport Match from './Match'\r\nimport Card from './Card'\r\nimport '../assets/Swipe/Footer.css'\r\nimport * as swipe_actions from '../store/actions/swipe_action'\r\n\r\n\r\nfunction Cards(props) {\r\n    \r\n\r\n    const [people, setPeople] = useState([]);\r\n    const [lastDirection, setLastDirection] = useState()\r\n    const [popup, setPopup] = useState(false)\r\n    const [matchedPerson, setMatchedPerson] = useState()\r\n    const alredyRemoved = []\r\n\r\n    useEffect(() => {\r\n      axios.get(`${process.env.REACT_APP_API_URL}/profile/list/`)\r\n      .then(res => {\r\n        setPeople([...people, ...res.data])\r\n      })\r\n    }, [])\r\n\r\n    let users = people\r\n    const childRefs = useMemo(() => Array(people.length).fill(0).map(i => React.createRef(), []))\r\n\r\n    const liked_getter = (user) => {\r\n      var liked_data\r\n      axios.get(`${process.env.REACT_APP_API_URL}/swipe/detail/${user}/`)\r\n      .then(res => {\r\n        liked_data = res.data.liked\r\n    })\r\n    return liked_data\r\n  }\r\n\r\n  //   const swiped = (direction, person) => {\r\n  //   setLastDirection(direction)\r\n  //   alredyRemoved.push(person.name)\r\n  //   if (direction === 'right') {\r\n  //     props.Swipe(props.swipe_id, person.user, person.user)\r\n  //     var liked_data = liked_getter(person.user)\r\n  //       if (res.data.liked.includes(props.id)) {\r\n  //         console.log('MATCH')\r\n  //       }\r\n  //   } else {\r\n  //     props.Swipe(props.swipe_id, person.user, null)\r\n  //   }\r\n  // } \r\n  \r\n    const swiped = (direction, person) => {\r\n      setLastDirection(direction)\r\n      alredyRemoved.push(person.name)\r\n      if (direction === 'right') {\r\n        props.Swipe(props.swipe_id, person.user, person.user)\r\n        //var liked_data = liked_getter(person.user)\r\n        axios.get(`${process.env.REACT_APP_API_URL}/swipe/detail/${person.user}/`)\r\n        .then(res => {\r\n          if (res.data.liked.includes(props.id)) {\r\n            console.log('MATCH')\r\n            setMatchedPerson(person)\r\n            setPopup(true)\r\n          }\r\n        })\r\n      } else {\r\n        props.Swipe(props.swipe_id, person.user, null)\r\n      }\r\n    }\r\n\r\n    function onClose() {\r\n      setPopup(false)\r\n    }\r\n\r\n    // const onClose = () => {\r\n    //   setPopup(false)\r\n    // }\r\n  \r\n    const outOfFrame = (name) => {\r\n      console.log(name + ' left the screen!')\r\n      users = users.filter(person => person.name !== name)\r\n      setPeople(users)\r\n    }\r\n  \r\n    const swipe = (dir) => {\r\n      const cardsLeft = people.filter(person => !alredyRemoved.includes(person.name))\r\n      if (cardsLeft.length) {\r\n        const toBeRemoved = cardsLeft[cardsLeft.length - 1].name // Find the card object to be removed\r\n        const index = people.map(person => person.name).indexOf(toBeRemoved) // Find the index of which to make the reference to\r\n        alredyRemoved.push(toBeRemoved) // Make sure the next card gets removed next time if this card do not have time to exit the screen\r\n        childRefs[index].current.swipe(dir) // Swipe the card!\r\n      }\r\n    }\r\n\r\n\r\n\r\n  return (\r\n      <div>\r\n      <Header/>\r\n    <div className=\"cards\">\r\n    \r\n      {people.map((person, index) => (\r\n        person.user !== props.id?\r\n        <>\r\n        <TinderCard\r\n        ref={childRefs[index]} className='swipe' \r\n        key={person.name} onSwipe={(dir) => swiped(dir, person)}\r\n        onCardLeftScreen={() => outOfFrame(person.name)}\r\n        preventSwipe={['up', 'down']}>\r\n          <Card data={person}/>\r\n        </TinderCard>\r\n        {/* <Match person={person} onClose={onClose} popup={popup}/> */}\r\n        </>\r\n        : <></>\r\n      ))}\r\n      <Match person={matchedPerson} onClose={onClose} popup={popup}/>\r\n    </div>\r\n    <Footer swipe_left={() => swipe('left')} swipe_right={() => swipe('right')}/>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    id: Number(state.auth_reducer.id),\r\n    swiped: state.profile_reducer.swiped,\r\n    liked: state.profile_reducer.liked,\r\n    swipe_id: state.swipe_reducer.swipe_id\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    Swipe: (swipe_id, swiped, liked) => dispatch(swipe_actions.Swipe(swipe_id, swiped, liked))\r\n  }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Cards);\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport '../assets/Setting/Profile.css'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      outline: 'none',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n  }));\r\n  \r\n\r\nfunction Profile(props) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n\r\n  function time() {\r\n    props.time_start || props.time_end ?\r\n    (<>{props.time_start}~{props.time_end}</>)\r\n    : (<></>)\r\n  }\r\n  \r\n\r\n  return (\r\n    <Card id='root'>\r\n      <CardMedia\r\n        className='media'\r\n        image= {props.image}\r\n        title= {props.name}\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {props.name}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          <Typography>My native language: {props.native_lan}<br/>\r\n                I want to learn: {props.foreign_lan}<br/><br/>\r\n          </Typography>\r\n        <Typography paragraph>freeday: {props.freeday}  {time}</Typography>\r\n          <Typography paragraph>\r\n            {props.intro}\r\n          </Typography>\r\n        </CardContent>\r\n      </Collapse>\r\n    </Card>\r\n  );\r\n}\r\n\r\nconst mapstateToProps = state => {\r\n  return {\r\n    name: state.profile_reducer.name,\r\n    gender: state.profile_reducer.gender,\r\n    age: state.profile_reducer.age,\r\n    native_lan: state.profile_reducer.native_lan,\r\n    foreign_lan: state.profile_reducer.foreign_lan,\r\n    image: state.profile_reducer.image,\r\n    location: state.profile_reducer.location,\r\n    time_start: state.profile_reducer.time_start,\r\n    time_end: state.profile_reducer.time_end,\r\n    intro: state.profile_reducer.intro,\r\n    freeday: state.profile_reducer.freeday\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapstateToProps, null)(Profile)\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//     root: {\r\n//       maxWidth: 345,\r\n//       margin: 30,\r\n//     },\r\n//     media: {\r\n//       height: 0,\r\n//       paddingTop: '56.25%', // 16:9\r\n//     },\r\n//     expand: {\r\n//       transform: 'rotate(0deg)',\r\n//       marginLeft: 'auto',\r\n//       transition: theme.transitions.create('transform', {\r\n//         duration: theme.transitions.duration.shortest,\r\n//       }),\r\n//     },\r\n//     expandOpen: {\r\n//       transform: 'rotate(180deg)',\r\n//     },\r\n//     avatar: {\r\n//       backgroundColor: red[500],\r\n//     },\r\n//   }));\r\n  \r\n//   export default function Profile() {\r\n//     const classes = useStyles();\r\n//     const [expanded, setExpanded] = React.useState(false);\r\n  \r\n//     const handleExpandClick = () => {\r\n//       setExpanded(!expanded);\r\n//     };\r\n  \r\n//     return (\r\n//       <Card className={classes.root}>\r\n//         <CardHeader\r\n//           avatar={\r\n//             <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n//               R\r\n//             </Avatar>\r\n//           }\r\n//           action={\r\n//             <IconButton aria-label=\"settings\">\r\n//               <MoreVertIcon />\r\n//             </IconButton>\r\n//           }\r\n//           title=\"Shrimp and Chorizo Paella\"\r\n//           subheader=\"September 14, 2016\"\r\n//         />\r\n//         <CardMedia\r\n//           className={classes.media}\r\n//           image=\"/static/images/cards/paella.jpg\"\r\n//           title=\"Paella dish\"\r\n//         />\r\n//         <CardContent>\r\n//           <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n//             This impressive paella is a perfect party dish and a fun meal to cook together with your\r\n//             guests. Add 1 cup of frozen peas along with the mussels, if you like.\r\n//           </Typography>\r\n//         </CardContent>\r\n//         <CardActions disableSpacing>\r\n//           <IconButton aria-label=\"add to favorites\">\r\n//             <FavoriteIcon />\r\n//           </IconButton>\r\n//           <IconButton aria-label=\"share\">\r\n//             <ShareIcon />\r\n//           </IconButton>\r\n//           <IconButton\r\n//             className={clsx(classes.expand, {\r\n//               [classes.expandOpen]: expanded,\r\n//             })}\r\n//             onClick={handleExpandClick}\r\n//             aria-expanded={expanded}\r\n//             aria-label=\"show more\"\r\n//           >\r\n//             <ExpandMoreIcon />\r\n//           </IconButton>\r\n//         </CardActions>\r\n//         <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n//           <CardContent>\r\n//             <Typography paragraph>Method:</Typography>\r\n//             <Typography paragraph>\r\n//               Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10\r\n//               minutes.\r\n//             </Typography>\r\n//           </CardContent>\r\n//         </Collapse>\r\n//       </Card>\r\n//     );\r\n//   }","import React, { useEffect } from 'react'\r\nimport Header from '../Swipe/Header'\r\nimport Profile from './Profile'\r\nimport '../assets/Setting/Setting.css'\r\nimport {Link, } from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\n\r\nfunction Setting(props) {\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <div className='setting'>\r\n            <Profile/>\r\n            <div className='Button'>\r\n                <Link to='/edit'>\r\n                <button className='setting_button1' onfocus=\"this.blur();\"><span>Edit Your Profile</span></button>\r\n                </Link>\r\n                <Link to='/'>\r\n                <button className='setting_button1' onfocus=\"this.blur();\" onClick={props.logout}><span>Log Out</span></button>\r\n                </Link>\r\n            <button className='setting_button3' onfocus=\"this.blur();\"><span>Delete Your Account</span></button>\r\n            </div>\r\n            </div>\r\n\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        logout: () => dispatch(auth_actions.logout())\r\n    }\r\n}\r\nexport default connect(null, mapDispatchToProps)(Setting)\r\n\r\n\r\n","import React, { useEffect, useState }from 'react'\r\nimport {Link, Redirect } from 'react-router-dom'\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport { IconButton } from '@material-ui/core';\r\nimport Profile from './Profile'\r\nimport '../assets/Setting/Editor.css'\r\nimport AutorenewIcon from '@material-ui/icons/Autorenew';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport * as profile_actions from '../store/actions/profile_action';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport '../assets/Setting/Profile.css'\r\nimport { connect } from 'react-redux'\r\nimport default_image from '../assets/default_image.jpg'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      outline: 'none',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n  }));\r\n\r\n\r\nconst Editor = (props) => {\r\n    const [profileUpdated, setProfileUpdated] = useState(false)\r\n    const [formData, setFormData] = useState({\r\n        profile_id: props.profile_id,\r\n        name: props.name,\r\n        gender: props.gender,\r\n        age: props.age,\r\n        native_lan: props.native_lan,\r\n        foreign_lan: props.foreign_lan,\r\n        location: props.location,\r\n        time_start: props.time_start,\r\n        time_end: props.time_end,\r\n        intro: props.intro,\r\n        freeday: props.freeday \r\n    })\r\n\r\n\r\n    const [formImage, setFormImage] = useState(props.image)\r\n\r\n    const languages = ['Arabic','Bengali','Burmese','Chinese','English','French','German','Gujarati','Hindi','Italian','Japanese','Kannada','Korean','Malayalam',\r\n    'Marathi','Oriya','Panjabi','Persian','Polish','Portuguese','Russian','Spanish','Tamil','Telugu','Thai','Turkish','Ukrainian','Urdu','Vietnamese']\r\n\r\n    const days = ['Monday', 'Thuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\r\n\r\n    const genders = ['Male', 'Female', 'Other']\r\n\r\n\r\n\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    function time() {\r\n        var time_range = null\r\n        time_start !== '' || time_end !== '' ?\r\n        time_range = <>{time_start}~{time_end}</>\r\n        :  time_range = (<></>)\r\n        return time_range\r\n    }\r\n    \r\n    function Imagehandler(e) {\r\n        console.log(e.target.files[0])\r\n        // .name => nashi\r\n        var image_file = e.target.files[0]\r\n        setFormImage(image_file)\r\n    \r\n    }\r\n\r\n    const {profile_id, name, age, gender, native_lan, foreign_lan, location, time_start, time_end, intro, freeday} = formData\r\n    const onChange = e => setFormData({...formData, [e.target.name]: e.target.value})\r\n    const onSubmit = e =>{\r\n        e.preventDefault()\r\n        // if (formImage==null) {\r\n        //     setFormImage('')\r\n        // }\r\n        props.update(profile_id, name, age, gender, native_lan, foreign_lan, formImage, location, time_start, time_end, intro, freeday)\r\n        setProfileUpdated(true)\r\n    }\r\n    if (profileUpdated) {\r\n        return <Redirect to='/setting'/>\r\n    }\r\n\r\n    return (\r\n        <div className='edit'>\r\n            <div className='edit_header'>\r\n                <Link to='/setting'>\r\n                    <IconButton style={{outline:'none'}}>\r\n                        <ArrowForwardIosIcon />\r\n                    </IconButton>\r\n                </Link>\r\n            </div>\r\n\r\n            <div className='edit_content'>\r\n            <Card id='root'>\r\n                <CardMedia\r\n                    className='media'\r\n                    image={formImage}\r\n                />\r\n                <CardContent>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {name}\r\n                    </Typography>\r\n                </CardContent>\r\n                <CardActions disableSpacing>\r\n                    <IconButton\r\n                    className={clsx(classes.expand, {\r\n                        [classes.expandOpen]: expanded,\r\n                    })}\r\n                    onClick={handleExpandClick}\r\n                    aria-expanded={expanded}\r\n                    aria-label=\"show more\"\r\n                    >\r\n                    <ExpandMoreIcon />\r\n                    </IconButton>\r\n                </CardActions>\r\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <CardContent>\r\n                <Typography>My native language: {native_lan}<br/>\r\n                I want to learn: {foreign_lan}<br/><br/></Typography>\r\n                    <Typography paragraph>free time: {freeday}<br/>{time()}</Typography>\r\n                    <Typography paragraph id='profile_intro'>\r\n                        {intro}\r\n                    </Typography>\r\n                    </CardContent>\r\n                </Collapse>\r\n            </Card>\r\n\r\n\r\n\r\n                <div className='edit_setting'>\r\n                    <form className='edit_form' onSubmit={onSubmit} encType='multipart/form-data'>\r\n                    <div className='edit_container'>\r\n                        <h1>Setting</h1>\r\n                            <input placeholder='name' type='text' name='name' value={name} className='edit_input' onChange={onChange}/>\r\n                            <input placeholder='age' type=\"number\" name='age' value={parseInt(age)} className='edit_input' onChange={onChange}/>\r\n                            <select className='edit_select' name='gender' onChange={onChange}>\r\n                                <option hidden>gender</option>\r\n                                {genders.map((sex) => {\r\n                                    if (sex===gender) {\r\n                                        return <option selected value={sex}>{sex}</option>\r\n                                    } else {\r\n                                    return <option value={sex}>{sex}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <select className='edit_select' name='native_lan' onChange={onChange} required>\r\n                                <option hidden>You speak...</option>\r\n                                {languages.map((language) => {\r\n                                    if (language===native_lan) {\r\n                                        return <option selected value={language}>{language}</option>\r\n                                    } else {\r\n                                    return <option value={language}>{language}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <select className='edit_select' name='foreign_lan' onChange={onChange} required>\r\n                                <option hidden>You want to learn ...</option>\r\n                                {languages.map((language) => {\r\n                                    if (language===foreign_lan) {\r\n                                        return <option selected value={language}>{language}</option>\r\n                                    } else {\r\n                                    return <option value={language}>{language}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n\r\n                            <select className='edit_select' name='freeday' onChange={onChange}>\r\n                                <option hidden>You are free on ...</option>\r\n                                {days.map((day) => {\r\n                                    if (day===freeday) {\r\n                                        return <option selected value={day}>{day}</option>\r\n                                    } else {\r\n                                    return <option value={day}>{day}</option>\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                            <div className='edit_time'>\r\n                            <input type='time' className='edit_input_time' name='time_start' value={time_start} onChange={onChange}/>\r\n                            ~\r\n                            <input type='time' className='edit_input_time' name='time_end' value={time_end} onChange={onChange}/>\r\n                            </div>\r\n                            <label className='edit_input_file'>\r\n                                {formImage!='' ? <p1><AutorenewIcon className='edit_icon'/>{formImage.name}</p1>  \r\n                                : <p1><ImageIcon className='edit_icon'/>choose your image</p1>}\r\n                            <input placeholder='image' type='file' name='image' className='edit_input' accept=\"image/png, image/jpeg\"　onChange={Imagehandler}/>\r\n                            </label>\r\n                            <textarea placeholder='Write your profile message here!' name='intro' value={intro} type='text' className='edit_input' onChange={onChange}/>\r\n                            </div>\r\n                            <button className='edit_button' type='submit'><span>SAVE</span></button>\r\n                        </form> \r\n                </div>\r\n            </div>\r\n       </div>\r\n    )\r\n}\r\n\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n        profile_id: state.profile_reducer.profile_id,\r\n        name: state.profile_reducer.name,\r\n        gender: state.profile_reducer.gender,\r\n        age: state.profile_reducer.age,\r\n        native_lan: state.profile_reducer.native_lan,\r\n        foreign_lan: state.profile_reducer.foreign_lan,\r\n        image: state.profile_reducer.image,\r\n        location: state.profile_reducer.location,\r\n        time_start: state.profile_reducer.time_start,\r\n        time_end: state.profile_reducer.time_end,\r\n        intro: state.profile_reducer.intro,\r\n        freeday: state.profile_reducer.freeday\r\n    \r\n    }\r\n  }\r\n  \r\n\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        update : (name, account_id, age, gender, native_lan, foreign_lan, image, location, time_start, time_end, intro, freeday) => \r\n        dispatch(profile_actions.Update(name, account_id, age, gender, native_lan, foreign_lan, image, location, time_start, time_end, intro, freeday))\r\n    }\r\n}\r\n\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Editor)\r\n\r\n\r\n\r\n// const language_option = () => {\r\n//     languages.map((language) => {\r\n//         console.log(language)\r\n//         if (language===native_lan) {\r\n//             return <option value={language} selected>{language}</option>\r\n//         } else {                                                                    I don't know why but it didn'T work\r\n//             return <option value={language}>{language}</option>\r\n//         }\r\n//     })\r\n// }\r\n\r\n","class WebSocketService {\r\n    // static is method or instance in the class\r\n    static instance = null;\r\n    // put sth later\r\n    callbacks = {};\r\n    static getInstance() {\r\n        if (!WebSocketService.instace) {\r\n            WebSocketService.instance = new WebSocketService()\r\n        }\r\n        return WebSocketService.instance\r\n    }\r\n\r\n    constructor() {\r\n        this.socketRef = null;\r\n\r\n    }\r\n    connect(chaturl) {\r\n        //127.0.0.1:8000\r\n        //localhost:8000\r\n        const path = `ws://localhost:8000/ws/chat/${chaturl}/`\r\n        this.socketRef = new WebSocket(path)\r\n        this.socketRef.onopen = () => {\r\n            console.log('open')\r\n        }\r\n        this.socketNewMessage(JSON.stringify({\r\n            // fetch_messages => messages\r\n            command: 'messages'\r\n        }))\r\n        this.socketRef.onmessage = e => {\r\n            this.socketNewMessage(e.data)\r\n        }\r\n        this.socketRef.onclose = () => {\r\n            console.log('close')\r\n            this.connect()\r\n        }\r\n        this.socketRef.onerror = e => {\r\n            console.log('error in Websocket::',e.message)\r\n        }\r\n    }\r\n\r\n    disconnect() {\r\n        this.socketRef.close()\r\n    }\r\n\r\n    //this is receiving function\r\n    socketNewMessage(data) {\r\n        const parseData = JSON.parse(data)\r\n        const command = parseData.command\r\n        console.log('Parsedata in Websocket::',parseData)\r\n        if (Object.keys(this.callbacks).length === 0) {\r\n            return \r\n        }\r\n        if (command === 'messages') {\r\n            // as you can seee addCallback, callbacks[command] is function. so you put Parsedata.message(s) in messagesCallback or newMessageCallback\r\n            this.callbacks[command](parseData.messages)\r\n        }\r\n        if (command === 'new_message') {\r\n            this.callbacks[command](parseData.message)\r\n        }\r\n    }\r\n\r\n    fetchMessages(username, ChatID) {\r\n        this.sendMessage({command: 'fetch_messages',\r\n         username: username,\r\n        ChatID: ChatID})\r\n    }\r\n    \r\n    newChatMessage(message) {\r\n        console.log('newChatMessage::', message)\r\n        this.sendMessage({command: 'new_message',\r\n        from: message.from,\r\n        message: message.content,\r\n        ChatID: message.ChatID})\r\n    }\r\n\r\n    addCallbacks(messagesCallback, newMessageCallback) {\r\n        this.callbacks['messages'] = messagesCallback;\r\n        this.callbacks['new_message'] = newMessageCallback\r\n    }\r\n\r\n    sendMessage(data) {\r\n        console.log('data in sendMessage',data)\r\n        try {\r\n            this.socketRef.send(JSON.stringify({...data }))\r\n        } catch (err) {\r\n            console.log(err.message)\r\n        } \r\n    }\r\n    state() {\r\n        return this.socketRef.readyState\r\n    }\r\n}\r\n\r\n// WebSocketInstance is new instance \r\nconst WebSocketInstance = WebSocketService.getInstance()\r\n\r\nexport default WebSocketInstance;","\r\n\r\nexport function waitForSocketConnection(callback, WebSocketInstance) {\r\n    // const socket = this.socketRef\r\n    //const recursion = .waitForSocketConnection\r\n    setTimeout(\r\n        function() {\r\n            if (WebSocketInstance.state() === 1) {\r\n                console.log('connection is secure')\r\n                callback()\r\n                return;\r\n            } else {\r\n                console.log('waiting for connection ....')\r\n                waitForSocketConnection(callback, WebSocketInstance)\r\n            } \r\n        }, 100);\r\n}\r\n\r\n\r\nexport function renderMessages(messages) {\r\n    const currentUser = this.props.username\r\n    return messages.map(message => (\r\n        <li\r\n        key={message.id}\r\n        className={message.author === currentUser ? 'sent': 'replies'}>\r\n        <img src='http://emilcarlsson.se/assets/mikeross.png'/>\r\n        <p>\r\n            {message.content}\r\n            <br/>\r\n            <small>\r\n                {message.timestamp.substring(0,16)}\r\n            </small>\r\n        </p>\r\n        </li>\r\n    ))\r\n}\r\n\r\nexport const sendMessageHandler = (e, WebSocketInstance, props, message) =>{\r\n    e.preventDefault();\r\n    const messageObject = {\r\n        from: props.name,\r\n        content: message,\r\n        chatID: props.ChatID\r\n        \r\n    }\r\n    console.log('messageObject::', messageObject)\r\n    if (messageObject.content) {\r\n        console.log(messageObject.content)\r\n        WebSocketInstance.newChatMessage(messageObject);\r\n\r\n//         this.setState({\r\n//             message: ''\r\n//    })\r\n    }\r\n}\r\n\r\nexport function initializeChat(setMessage, addMessage, WebSocketInstance, props) {\r\n    waitForSocketConnection(() => {\r\n        WebSocketInstance.addCallbacks(\r\n            setMessage,\r\n            addMessage)\r\n            //this.props.currentUser => daisuke\r\n        WebSocketInstance.fetchMessages(props.name, props.ChatID)\r\n    }, WebSocketInstance)\r\n}\r\n","import { connect } from 'react-redux'\r\nimport WebSocketInstance from './WebSocket.js'\r\nimport React, {useState, useEffect} from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport SpaIcon from '@material-ui/icons/Spa';\r\nimport { IconButton } from '@material-ui/core';\r\nimport {Link} from 'react-router-dom'\r\nimport '../assets/Chat/Chat.css'\r\nimport {sendMessageHandler, initializeChat} from './MessageHandler'\r\n\r\n\r\n\r\n\r\nfunction ChatScreen(props) {\r\n\r\n    const example_messages = {\r\n        name: 'daisuke',\r\n        content: 'hello',\r\n        image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS8UPpwQxL6RFeJ5tNGbpYDkOOB0OCTzq1kgw&usqp=CAU'\r\n    }\r\n    const [input, setInput] = useState('')\r\n    const [messages, setMessages] = useState([])\r\n\r\n    const fetchMessage = (fetched_messages) => {\r\n        //.reverse()\r\n        //...messages is no need\r\n        console.log('fetchMessage')\r\n        if (fetched_messages) {\r\n            setMessages([...messages, ...fetched_messages.reverse()])\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\tconst addMessage = (message) => {\r\n\r\n        setMessages([...messages, ...message])\r\n        console.log(messages)\r\n    }\r\n\r\n    useEffect(() => {\r\n        initializeChat(fetchMessage, addMessage, WebSocketInstance, props)\r\n        WebSocketInstance.connect(props.ChatID)\r\n    }, [props.ChatID])\r\n\r\n\r\n\r\n\r\n    const onSubmit = e => {\r\n        sendMessageHandler(e, WebSocketInstance, props, input)\r\n        console.log('submitted')\r\n        console.log(messages)\r\n        setInput('')\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='chatScreen'>\r\n            <header className='chatScreen_header'>\r\n            <Link to='/chatpanel'>\r\n                    <IconButton id='chatScreen_header_icon'>\r\n                        <ArrowBackIosIcon style={{fontSize: '30px'}}/>\r\n                    </IconButton>\r\n                </Link>\r\n                <SpaIcon id='chatScreen_logo'/>\r\n            </header>\r\n            <div style={{textAlign: 'center'}}>\r\n            <p1 className='chatScreen_match'>YOU MATCHED WITH ELLEN ON 10/08/20</p1>\r\n            </div>\r\n            <ul className='chatScreen_messages'>\r\n            {messages.map(message => message.name !== props.name? \r\n                (\r\n                <div className='chatScreen_message'>\r\n                    <Avatar className='chatScreen_image'\r\n                    alt={message.name} src={message.image}/>\r\n                    <p className='chatScreen_reply'>{message.content}</p>\r\n                    <small>\r\n\t\t\t\t\t{message.timestamp.substring(0,16)}\r\n\t\t\t\t    </small>\r\n                </div>\r\n                ) : (\r\n                    <div className='chatScreen_message'>\r\n                    <p className='chatScreen_sent'>{message.content}<br/>\r\n                    <small>\r\n\t\t\t\t\t{message.timestamp.substring(0,16)}\r\n\t\t\t         </small></p>\r\n                    \r\n                    </div>\r\n                ))\r\n            }\r\n            </ul>\r\n\r\n        <div>\r\n            <form className='chatScreen_input' onSubmit={onSubmit}>\r\n                <input value={input} onChange={(e) => setInput(e.target.value)}\r\n                 type='text' className='chatScreen_inputField' placeholder='message'/>\r\n                <button className='chatScreen_submit' type='submit'>SEND</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapstateToProps = (state, objects) => {\r\n    return {\r\n        name: state.auth_reducer.name,\r\n        ChatID: objects.match.params.ChatID\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapstateToProps, null)(ChatScreen)\r\n","import React from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport '../assets/Chat/ChatPanel.css'\r\nimport {Link, useHistory} from 'react-router-dom'\r\n//you need to wrap name, message, image, timestamp by {} otherwise, it would cause the error that is use array instead...\r\nfunction ChatPanel({name, message, image, timestamp, ChatID}) {\r\n    \r\n    const link = `chat/${ChatID}/`\r\n    return (\r\n        <Link to={link}>\r\n        <div className='chatpanel'>\r\n            <Avatar className='chatpanel_image' alt={name}\r\n            src={image}/>\r\n            <div className='chatpanel_detail'>\r\n                <h2>{name}</h2>\r\n                <p>{message}</p>\r\n            </div>\r\n            <p className='chatpanel_timestamp'>{timestamp}</p>\r\n        </div>\r\n        </Link>\r\n    )\r\n}\r\n\r\nexport default ChatPanel\r\n","import React, {useEffect, useState}from 'react'\r\nimport ChatPanel from './ChatPanel'\r\nimport Header from '../Swipe/Header'\r\nimport {connect } from 'react-redux'\r\nimport axios from 'axios'\r\nfunction ChatPanels(props) {\r\n    const [friends, setFriends] = useState([])\r\n    useEffect(() => {\r\n        axios.defaults.headers = {\r\n            \"Content-Type\": 'application/json'\r\n        }\r\n        axios.get(`${process.env.REACT_APP_API_URL}/chat-api/chat/?name=${props.username}`)\r\n        .then(res => {\r\n            console.log('res.data[0]::',res.data[0]);\r\n            setFriends([...friends, res.data[0]])\r\n            //console.log('friends::',friends)\r\n        }\r\n        )},\r\n         [])\r\n\r\n\r\n\r\n\r\n    const image='https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS8UPpwQxL6RFeJ5tNGbpYDkOOB0OCTzq1kgw&usqp=CAU'\r\n    return (\r\n        <div>\r\n            {/* {console.log('friends::',friends[0].participants)} */}\r\n            <Header/>\r\n            <h1 className='chatpanel_title'>Messages</h1>\r\n                <div className='chats'>\r\n                    {friends.map(friend => (\r\n                            <ChatPanel name={friend.name} message={friend.message}\r\n                            image={image} timestamp='10 minutes ago' ChatID={friend.id}/>\r\n                        )\r\n                    )}\r\n                </div>\r\n        </div>\r\n    )\r\n}\r\nconst mapstateToProps = state => {\r\n    return {\r\n        username: state.auth_reducer.name\r\n    }\r\n}\r\nexport default connect(mapstateToProps, null)(ChatPanels)\r\n\r\n//Authorization `Token ${token}\r\n\r\n\r\n","import React, { useEffect }from 'react'\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport {connect} from 'react-redux'\nimport * as auth_actions from './store/actions/auth_action'\n\nimport Home from './Authentication/Home'\nimport Login from './Authentication/Login'\nimport Signup from './Authentication/Signup'\nimport Activate from './Authentication/Activate'\nimport PasswordReset from './Authentication/PasswordReset'\nimport PasswordResetConfirm from './Authentication/PasswordResetConfirm'\n\nimport Cards from './Swipe/Cards'\nimport Match from './Swipe/Match'\n\nimport Setting from './Setting/Setting'\nimport Editor from './Setting/Editor'\nimport Chat from './Chat/Chat'\nimport ChatPanels from './Chat/ChatPanels'\n\n\nimport Layout from './hoc/Layout'\nconst App = (props) => {\n\n    useEffect(() => {\n        props.checkAuthenticated();\n    })\n\n        return(\n            <Router>\n              <Switch>\n                    <Route exact path='/' component={Home} />\n                    <Route exact path='/login' component={Login} />\n                    <Route exact path='/signup' component={Signup} />\n                    <Route exact path='/reset_password' component={PasswordReset} />\n                    <Route exact path='/password/reset/confirm/:uid/:token' component={PasswordResetConfirm} />\n                    <Route exact path='/activate/:uid/:token' component={Activate} />\n                    {/* <Layout> */}\n                    <Route exact path=\"/chat/:ChatID\" component={Chat}/>\n                    <Route exact path='/swipe' component={Cards}/>\n                    <Route exact path='/setting' component={Setting}/>\n                    <Route exact path='/chatpanel' component={ChatPanels}/>\n                    <Route exact path='/edit' component={Editor}/>\n                    <Route exact path='/match' component={Match}/>\n                {/* </Layout> */}\n              </Switch>\n            </Router>\n        );\n}\n  \n// :chatID\n{/* <Router>\n<div id=\"frame\">\n    <Sidepanel />\n    <div className=\"content\">\n        <Profile />\n        <BaseRouter />\n    </div>\n</div>\n</Router> */}\n\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        checkAuthenticated: () => dispatch(auth_actions.checkAuthenticated)\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(App)\n","import React, {useEffect }from 'react'\r\nimport { connect } from 'react-redux'\r\nimport * as auth_actions from '../store/actions/auth_action'\r\nimport { Redirect } from 'react-router-dom'\r\nconst Layout = (props) => {\r\n    useEffect(() => {\r\n        props.checkAuthenticated()\r\n        props.load_user()\r\n    }, [])\r\n    if (props.isAuthenticated) {\r\n    return (\r\n    <div>\r\n        {props.children}\r\n    </div>\r\n    )\r\n    } else {\r\n        return <Redirect to='/'/>\r\n    }\r\n}\r\n\r\n\r\nconst mapstateToProps = state => {\r\n    return {\r\n    isAuthenticated: state.auth_reducer.isAuthenticated\r\n}\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        checkAuthenticated: () => dispatch(auth_actions.checkAuthenticated()),\r\n        load_user: () => dispatch(auth_actions.load_user())\r\n    }\r\n}\r\nexport default connect(mapstateToProps, mapDispatchToProps)(Layout)","// import React, { useEffect }from 'react';\nimport ReactDOM from 'react-dom';\nimport React from 'react'\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport 'antd/dist/antd.css';\nimport reducer from './store/reducers/index';\nimport App from './App';\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from 'redux-thunk';\n\n\nconst initialState = {}\nconst middelware = [thunk]\nconst store = createStore(\n    reducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(...middelware))\n)\n\nconst app = \n    <Provider store={store}>\n        <App />\n    </Provider>\n\n\n\nReactDOM.render(app, document.getElementById(\"app\"));"],"sourceRoot":""}