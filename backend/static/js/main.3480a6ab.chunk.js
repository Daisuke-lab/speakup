(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{129:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(17),r=a.n(c),s=a(1),i=a.n(s),o=a(32),l=a(8),u=(a(110),a(3)),d="LOGIN_SUCCESS",j="LOGIN_FAIL",p="LOAD_USER_SUCCESS",b="LOAD_USER_FAIL",m="AUTHENTICATED_SUCCESS",h="AUTHENTICATED_FAIL",g="AUTHENTICATED_SUCCESS",O="AUTHENTICATED_FAIL",f="AUTHENTICATED_SUCCESS",x="AUTHENTICATED_FAIL",_="LOG_OUT",v="SIGNUP_SUCCESS",S="SIGNUP_FAIL",y="ACTIVATION_SUCCESS",w="ACTIVATION_FAIL",N="PROFILE_CREATE_SUCCESS",I="PROFILE_CREATE_FAIL",k="PROFILE_RECEIVE_SUCCESS",C="PROFILE_RECEIVE_FAIL",E="PROFILE_UPDATE_SUCCESS",A="PROFILE_UPDATE_FAIL",T="PROFILE_DELETE_SUCCESS",R="PROFILE_DELETE_FAIL",F="SWIPE_CREATE_SUCCESS",P="SWIPE_CREATE_FAIL",L="SWIPE_RECEIVE_SUCCESS",D="SWIPE_RECEIVE_FAIL",U="SWIPE_UPDATE_SUCCESS",M={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,name:localStorage.getItem("name"),id:localStorage.getItem("id")};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case d:return localStorage.setItem("access",n.access),localStorage.setItem("refresh",n.refresh),Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!0,access:n.access,refresh:n.refresh,id:n.id});case j:case S:case _:return localStorage.getItem("access")&&(localStorage.removeItem("access"),localStorage.removeItem("refresh"),localStorage.removeItem("id")),Object(u.a)(Object(u.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,name:null,id:null});case p:return localStorage.setItem("id",n.id),localStorage.setItem("name",n.name),Object(u.a)(Object(u.a)({},e),{},{name:n.name,id:n.id});case b:return Object(u.a)(Object(u.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,name:null,id:null});case m:return Object(u.a)(Object(u.a)({},e),{},{name:n.name});case h:return Object(u.a)(Object(u.a)({},e),{},{name:null,id:null});case v:return Object(u.a)(Object(u.a)({},e),{},{isAuthenticated:!1,id:n.id});case g:case O:case f:case x:case w:case y:return Object(u.a)({},e);default:return e}},J={profile_id:null,name:localStorage.getItem("name"),age:localStorage.getItem("age"),gender:localStorage.getItem("gender"),native_lan:localStorage.getItem("native_lan"),foreign_lan:localStorage.getItem("foreign_lan"),image:"null"!==localStorage.getItem("image")?localStorage.getItem("image"):"",location:localStorage.getItem("location"),time_start:"null"!==localStorage.getItem("time_start")?localStorage.getItem("time_start"):"",time_end:"null"!==localStorage.getItem("time_end")?localStorage.getItem("time_end"):"",intro:"null"!==localStorage.getItem("intro")?localStorage.getItem("intro"):"",freeday:"null"!==localStorage.getItem("freeday")?localStorage.getItem("freeday"):""};var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case k:return localStorage.setItem("profile_id",n.id),localStorage.setItem("name",n.name),localStorage.setItem("age",n.age),localStorage.setItem("gender",n.gender),localStorage.setItem("native_lan",n.native_lan),localStorage.setItem("foreign_lan",n.foreign_lan),localStorage.setItem("image",n.image),localStorage.setItem("location",n.location),localStorage.setItem("time_start",n.time_start),localStorage.setItem("time_end",n.time_end),localStorage.setItem("intro",n.intro),localStorage.setItem("freeday",n.freeday),Object(u.a)(Object(u.a)({},e),{},{profile_id:n.id,name:n.name,age:n.age,gender:n.geder,native_lan:n.native_lan,foreign_lan:n.foreign_lan,image:n.image,location:n.location,time_start:n.time_start,time_end:n.time_end,intro:n.intro,freeday:n.freeday});case E:return Object(u.a)(Object(u.a)({},e),{},{profile_id:n.id,name:n.name,age:n.age,gender:n.geder,native_lan:n.native_lan,foreign_lan:n.foreign_lan,image:n.image,location:n.location,time_start:n.time_start,time_end:n.time_end,intro:n.intro,freeday:n.freeday});case T:return localStorage.removeItem("profile_id"),localStorage.removeItem("name"),localStorage.removeItem("age"),localStorage.removeItem("gender"),localStorage.removeItem("native_lan"),localStorage.removeItem("foreign_lan"),localStorage.removeItem("image"),localStorage.removeItem("location"),localStorage.removeItem("time_start"),localStorage.removeItem("time_end"),localStorage.removeItem("intro"),localStorage.removeItem("freeday"),Object(u.a)({},e);case N:return Object(u.a)(Object(u.a)({},e),{},{profile_id:n.id});case A:case C:case R:case U:default:return Object(u.a)({},e)}},B={swipe_id:localStorage.getItem("swipe_id"),swiped:localStorage.getItem("swiped"),liked:localStorage.getItem("liked")};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case F:return Object(u.a)(Object(u.a)({},e),{},{swipe_id:n.id});case L:return localStorage.setItem("swipe_id",n.id),localStorage.setItem("swiped",n.swiped),localStorage.setItem("liked",n.liked),Object(u.a)(Object(u.a)({},e),{},{swipe_id:n.id,swiped:n.swiped,liked:n.liked});case P:case D:default:return Object(u.a)({},e)}},z=Object(o.combineReducers)({auth_reducer:q,profile_reducer:W,swipe_reducer:H}),G=a(7),V=a(15),Y=a(9),K=a.n(Y),Q=a(20),X=a(13),Z=a.n(X),$=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,Z.a.get("".concat("http://localhost:8000","/auth/users/me/"),a);case 5:n=e.sent,console.log("data in load::",n.data),t({type:p,payload:n.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:b});case 13:e.next=17;break;case 15:console.log("no access"),t({type:b});case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(){return function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,n,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Accept:"application/json"}},n=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,Z.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),n,a);case 6:c=e.sent,t("token_not_valid"!==c?{type:m}:{type:h}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:h});case 13:e.next=16;break;case 15:t({type:h});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},te=function(){return function(e){e({type:_})}},ae=a.p+"static/media/home_page2.35e0fb3d.jpg",ne=a(27),ce=a.n(ne),re=(a(129),function(){var e={width:"100%",height:"800px",backgroundSize:"cover",backgroundImage:"url(".concat(ae,")")};return Object(n.jsxs)("div",{style:e,className:"home",children:[Object(n.jsxs)("div",{className:"home_title",children:[Object(n.jsx)(ce.a,{id:"home_logo"}),Object(n.jsx)("h1",{children:"Speak Up"})]}),Object(n.jsx)("h1",{className:"home_intro",children:"Find Your Language Exchange Partner!!"}),Object(n.jsx)(G.b,{to:"/login",children:Object(n.jsx)("button",{className:"home_button1",onfocus:"this.blur();",children:Object(n.jsx)("span",{children:"Sign In"})})}),Object(n.jsx)(G.b,{to:"/signup",children:Object(n.jsx)("button",{className:"home_button2",onfocus:"this.blur();",children:Object(n.jsx)("span",{children:"Sign Up"})})})]})}),se=a(12),ie=a(5),oe=a(38),le=a.n(oe),ue=a(178),de=(a(132),Object(l.b)((function(e){return{isAuthenticated:e.auth_reducer.isAuthenticated,id:e.auth_reducer.id,gender:e.profile_reducer.gender}}),(function(e){return{login:function(t,a){return e(function(e,t){return function(){var a=Object(Q.a)(K.a.mark((function a(n){var c,r,s;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,Z.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),r,c);case 5:s=a.sent,console.log(s.data),n({type:d,payload:s.data}),n($()),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),n({type:j});case 14:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))},receive_profile:function(t){return e(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(a){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.a.get("".concat("http://localhost:8000","/profile/detail/").concat(e,"/"));case 3:n=t.sent,a({type:k,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:C});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},receive_swipe:function(t){return e(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(a){var n;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.a.get("".concat("http://localhost:8000","/swipe/detail/").concat(e,"/"));case 3:n=t.sent,a({type:L,payload:n.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("err::",t.t0),a({type:D});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(s.useState)({email:"",password:""}),a=Object(ie.a)(t,2),c=a[0],r=a[1],i=c.email,o=c.password,l=function(e){return r(Object(u.a)(Object(u.a)({},c),{},Object(se.a)({},e.target.name,e.target.value)))};return e.id&&e.isAuthenticated?(console.log("id::",e.id),e.receive_profile(e.id),e.receive_swipe(e.id),Object(n.jsx)(V.a,{to:"/swipe"})):Object(n.jsxs)("div",{className:"login",children:[Object(n.jsxs)("header",{className:"login_header",children:[Object(n.jsx)(G.b,{to:"/",children:Object(n.jsx)(ue.a,{id:"login_back",children:Object(n.jsx)(le.a,{})})}),Object(n.jsxs)("div",{className:"login_title",children:[Object(n.jsx)(ce.a,{id:"login_logo"}),Object(n.jsx)("h1",{children:"Speak Up"})]})]}),Object(n.jsxs)("div",{className:"login_form",children:[Object(n.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.login(i,o)}(t)},children:[Object(n.jsx)("input",{className:"login_input",type:"email",placeholder:"Email",name:"email",value:i,onChange:function(e){return l(e)},required:!0}),Object(n.jsx)("input",{className:"login_input",type:"password",placeholder:"Password",name:"password",value:o,onChange:function(e){return l(e)},required:!0}),Object(n.jsx)("button",{className:"login_button",type:"submit",onfocus:"this.blur();",children:Object(n.jsx)("span",{children:"Log In"})})]}),Object(n.jsxs)("p",{className:"mt-3",children:["Don't have an account? ",Object(n.jsx)(G.b,{to:"/signup",children:"Sign up"})]}),Object(n.jsxs)("p",{className:"mt-3",children:["Forget your password? ",Object(n.jsx)(G.b,{to:"/reset_password",children:"Reset Password"})]})]})]})}))),je=(a(133),Object(l.b)((function(e){return{isAuthenticated:e.auth_reducer.isAuthenticated,id:e.auth_reducer.id,profile_id:e.profile_reducer.profile_id}}),(function(e){return{signup:function(t,a,n,c){return e(function(e,t,a,n){return function(){var c=Object(Q.a)(K.a.mark((function c(r){var s,i,o;return K.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:e,email:t,password:a,re_password:n}),c.prev=2,c.next=5,Z.a.post("".concat("http://localhost:8000","/auth/users/"),i,s);case 5:o=c.sent,console.log("res in signup::",o.data),r({type:v,payload:o.data}),localStorage.setItem("name",e),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(2),r({type:S});case 14:case"end":return c.stop()}}),c,null,[[2,11]])})));return function(e){return c.apply(this,arguments)}}()}(t,a,n,c))},profile_create:function(t,a,n,c,r){return e(function(e,t,a,n){return function(){var c=Object(Q.a)(K.a.mark((function c(r){var s,i,o;return K.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(null==e){c.next=17;break}return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({user:e,name:t,native_lan:a,foreign_lan:n}),c.prev=3,c.next=6,Z.a.post("".concat("http://localhost:8000","/profile/create/"),i,s);case 6:o=c.sent,console.log("data::",o.data),r({type:N,payload:o.data}),c.next=15;break;case 11:c.prev=11,c.t0=c.catch(3),console.log(c.t0.response.request),r({type:I});case 15:c.next=18;break;case 17:r({type:I});case 18:case"end":return c.stop()}}),c,null,[[3,11]])})));return function(e){return c.apply(this,arguments)}}()}(t,a,n,c))},swipe_create:function(t){return e((a=t,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,c,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a){e.next=16;break}return e.prev=1,n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({user:a}),e.next=6,Z.a.post("".concat("http://localhost:8000","/swipe/create/"),c,n);case 6:r=e.sent,t({type:F,payload:r.data}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("error::",e.t0),t({type:P});case 14:e.next=17;break;case 16:t({type:P});case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()));var a}}}))((function(e){var t=Object(s.useState)(!1),a=Object(ie.a)(t,2),c=(a[0],a[1]),r=Object(s.useState)({name:"",email:"",password:"",re_password:"",native_lan:"",foreign_lan:""}),i=Object(ie.a)(r,2),o=i[0],l=i[1],d=o.name,j=o.email,p=o.password,b=o.re_password,m=o.native_lan,h=o.foreign_lan,g=function(e){return l(Object(u.a)(Object(u.a)({},o),{},Object(se.a)({},e.target.name,e.target.value)))};e.id&&(e.profile_create(e.id,d,m,h),e.swipe_create(e.id));var O=["Arabic","Bengali","Burmese","Chinese","English","French","German","Gujarati","Hindi","Italian","Japanese","Kannada","Korean","Malayalam","Marathi","Oriya","Panjabi","Persian","Polish","Portuguese","Russian","Spanish","Tamil","Telugu","Thai","Turkish","Ukrainian","Urdu","Vietnamese"];return e.isAuthenticated||e.id?Object(n.jsx)(V.a,{to:"/"}):Object(n.jsxs)("div",{className:"signup",children:[Object(n.jsxs)("header",{className:"signup_header",children:[Object(n.jsx)(G.b,{to:"/",children:Object(n.jsx)(ue.a,{id:"signup_back",children:Object(n.jsx)(le.a,{})})}),Object(n.jsxs)("div",{className:"signup_title",children:[Object(n.jsx)(ce.a,{id:"signup_logo"}),Object(n.jsx)("h1",{children:"Speak Up"})]})]}),Object(n.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.signup(d,j,p,b),c(!0)}(t)},children:[Object(n.jsxs)("div",{className:"signup_form",children:[Object(n.jsxs)("div",{className:"col signup_form1",children:[Object(n.jsx)("input",{className:"signup_input",type:"name",placeholder:"Name*",name:"name",value:d,onChange:function(e){return g(e)},required:!0}),Object(n.jsx)("input",{className:"signup_input",type:"email",placeholder:"Email*",name:"email",value:j,onChange:function(e){return g(e)},required:!0}),Object(n.jsx)("input",{className:"signup_input",type:"password",placeholder:"Password*",name:"password",value:p,onChange:function(e){return g(e)},required:!0}),Object(n.jsx)("input",{className:"signup_input",type:"password",placeholder:"Confirm Password*",name:"re_password",value:b,onChange:function(e){return g(e)},required:!0})]}),Object(n.jsxs)("div",{className:"col signup_form2",children:[Object(n.jsxs)("div",{className:"signup_lan",children:["What language are you fluent in?",Object(n.jsxs)("select",{className:"signup_select",name:"native_lan",required:!0,onChange:function(e){return g(e)},children:[Object(n.jsx)("option",{hidden:!0,children:"You speak ..."}),O.map((function(e){return Object(n.jsx)("option",{value:e,children:e})}))]})]}),Object(n.jsxs)("div",{className:"signup_lan",children:["What do you want to learn?",Object(n.jsxs)("select",{className:"signup_select",name:"foreign_lan",required:!0,onChange:function(e){return g(e)},children:[Object(n.jsx)("option",{hidden:!0,children:"You want to learn ..."}),O.map((function(e){return Object(n.jsx)("option",{value:e,children:e})}))]})]})]})]}),Object(n.jsx)("div",{className:"signup_button",children:Object(n.jsx)("button",{onFocus:"this.blur();",type:"submit",children:Object(n.jsx)("span",{children:"Sign Up"})})})]}),Object(n.jsxs)("p",{style:{textAlign:"center"},children:["Already have an account? ",Object(n.jsx)(G.b,{to:"/login",children:"Log in"})]})]})}))),pe=Object(l.b)((function(e,t){return{isAuthenticated:e.auth_reducer.isAuthenticated,uid:t.match.params.uid,token:t.match.params.token}}),(function(e){return{verify:function(t,a){return e(function(e,t){return function(){var a=Object(Q.a)(K.a.mark((function a(n){var c,r,s;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({uid:e,token:t}),a.prev=2,a.next=5,Z.a.post("".concat("http://localhost:8000","/auth/users/activation/"),r,c);case 5:s=a.sent,console.log(s.data),n({type:y,payload:s.data}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(2),console.log(a.t0.response),n({type:w});case 14:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))((function(e){var t=Object(s.useState)(!1),a=Object(ie.a)(t,2),c=a[0],r=a[1];return c?Object(n.jsx)(V.a,{to:"/"}):Object(n.jsx)("div",{className:"eontainer mt-5",children:Object(n.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"},children:[Object(n.jsx)("h1",{children:"Verify your account:"}),Object(n.jsx)("button",{onClick:function(t){console.log(e.uid,e.token),e.verify(e.uid,e.token),r(!0)},style:{marginTop:"50px"},type:"button",className:"btn btn-primary",children:"Verify"})]})})})),be=Object(l.b)((function(e){return{isAuthenticated:e.auth_reducer.isAuthenticated}}),(function(e){return{logout:function(){return e(te())}}}))((function(e){return Object(n.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)(G.b,{class:"navbar-brand",to:"/",children:"Auth System"}),Object(n.jsx)("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{class:"navbar-toggler-icon"})}),Object(n.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(n.jsxs)("ul",{class:"navbar-nav",children:[Object(n.jsx)("li",{class:"nav-item active",children:Object(n.jsxs)(G.b,{class:"nav-link",to:"/",children:["Home",Object(n.jsx)("span",{class:"sr-only",children:"(current)"})]})}),e.isAuthenticated?Object(n.jsx)("li",{class:"nav-item active",children:Object(n.jsxs)(G.b,{class:"nav-link",to:"/",onClick:e.logout,children:["Logout",Object(n.jsx)("span",{class:"sr-only",children:"(current)"})]})}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)("li",{class:"nav-item active",children:Object(n.jsx)(G.b,{class:"nav-link",to:"/login",children:"Login"})}),Object(n.jsx)("li",{class:"nav-item active",children:Object(n.jsx)(G.b,{class:"nav-link",to:"/signup",children:"Signup"})})]})]})})]})})),me=Object(l.b)(null,(function(e){return{reset_password:function(t){return e(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(a){var n,c,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e}),t.prev=2,t.next=5,Z.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),c,n);case 5:r=t.sent,console.log("PASSWORD_RESET"),a({type:g,payload:r.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:O});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(s.useState)(!1),a=Object(ie.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)({email:""}),o=Object(ie.a)(i,2),l=o[0],d=o[1],j=l.email;return c?Object(n.jsx)(V.a,{to:"/"}):Object(n.jsxs)("div",{className:"eontainer mt-5",children:[Object(n.jsx)(be,{}),Object(n.jsx)("h1",{children:"Request Password Reset"}),Object(n.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.reset_password(j),r(!0)}(t)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"from-control",type:"email",placeholder:"Email",name:"email",value:j,onChange:function(e){return function(e){return d(Object(u.a)(Object(u.a)({},l),{},Object(se.a)({},e.target.name,e.target.value)))}(e)},required:!0})}),Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset Password"})]})]})})),he=Object(l.b)((function(e,t){return{uid:t.match.params.uid,token:t.match.params.token}}),(function(e){return{reset_password_confirm:function(t,a,n,c){return e(function(e,t,a,n){return function(){var c=Object(Q.a)(K.a.mark((function c(r){var s,i;return K.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),console.log("PASSWORD_RESET_CONFIRM"),c.prev=3,c.next=6,Z.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),i,s);case 6:r({type:f}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),r({type:x});case 12:case"end":return c.stop()}}),c,null,[[3,9]])})));return function(e){return c.apply(this,arguments)}}()}(t,a,n,c))}}}))((function(e){var t=Object(s.useState)(!1),a=Object(ie.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)({new_password:"",re_new_password:""}),o=Object(ie.a)(i,2),l=o[0],d=o[1];console.log("token::",e.token);var j=l.new_password,p=l.re_new_password,b=function(e){return d(Object(u.a)(Object(u.a)({},l),{},Object(se.a)({},e.target.name,e.target.value)))};return c?Object(n.jsx)(V.a,{to:"/"}):Object(n.jsxs)("div",{className:"eontainer mt-5",children:[Object(n.jsx)(be,{}),Object(n.jsx)("h1",{children:"Request Password Reset"}),Object(n.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault();var a=e.uid,n=e.token;e.reset_password_confirm(a,n,j,p),r(!0)}(t)},children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"from-control",type:"password",placeholder:"New Pasword",name:"new_password",value:j,onChange:function(e){return b(e)},required:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{className:"from-control",type:"password",placeholder:"Confirm New Password",name:"re_new_password",value:p,onChange:function(e){return b(e)},required:!0})}),Object(n.jsx)("button",{className:"btn btn-primary",type:"submit",children:"PasswordResetConfirm"})]})]})})),ge=a(18),Oe=a(85),fe=a.n(Oe),xe=(a(136),a(137),a(86)),_e=a.n(xe),ve=a(87),Se=a.n(ve);var ye=function(e){e.backButton;var t=Object(V.g)();return console.log(t),Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)(G.b,{to:"/setting",children:Object(n.jsx)(ue.a,{id:"header_icon",children:Object(n.jsx)(_e.a,{fontSize:"large"})})}),Object(n.jsx)(G.b,{to:"/swipe",children:Object(n.jsx)(ue.a,{id:"header_logo",children:Object(n.jsx)(ce.a,{style:{fontSize:50}})})}),Object(n.jsx)(G.b,{to:"/chatpanel",children:Object(n.jsx)(ue.a,{id:"header_icon",children:Object(n.jsx)(Se.a,{fontSize:"large"})})})]})},we=(a(78),a(89)),Ne=a.n(we),Ie=a(88),ke=a.n(Ie),Ce=a(60),Ee=a.n(Ce);var Ae=function(e){return Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsx)(ue.a,{id:"swipeButtons_nope",onClick:e.swipe_left,children:Object(n.jsx)(ke.a,{fontSize:"large"})}),Object(n.jsx)(ue.a,{id:"swipeButtons_repeat",children:Object(n.jsx)(Ne.a,{fontSize:"large"})}),Object(n.jsx)(ue.a,{id:"swipeButtons_like",onClick:e.swipe_right,children:Object(n.jsx)(Ee.a,{fontSize:"large"})})]})},Te=a(170),Re=a(177),Fe=a(176),Pe=a(144),Le=a(180),De=a(171),Ue=a(173),Me=a(90),qe=a.n(Me),Je=a(174),We=a(172),Be=a(175),He=a(33),ze=a.n(He),Ge=a(6),Ve=(a(79),Object(Te.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",marginRight:"auto",outline:"none",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})));function Ye(e){console.log("props2:",e);var t=Ve(),a=i.a.useState(!1),c=Object(ie.a)(a,2),r=c[0],s=c[1];return Object(n.jsxs)(Le.a,{id:"match_card",children:[Object(n.jsx)(De.a,{className:"media",image:e.data.image,title:"Nana Mori",id:"match_image"}),Object(n.jsx)(ue.a,{id:"match_icon",onClick:e.handleClose,children:Object(n.jsx)(qe.a,{style:{fontSize:"large"}})}),Object(n.jsx)("h1",{children:"New Match!"}),Object(n.jsx)(We.a,{disableSpacing:!0,children:Object(n.jsx)(ue.a,{className:Object(Ge.a)(t.expand,Object(se.a)({},t.expandOpen,r)),onClick:function(){s(!r)},"aria-expanded":r,"aria-label":"show more",style:{outline:"none",marginTop:"10px"},children:Object(n.jsx)(ze.a,{})})}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Je.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(n.jsx)("p1",{children:e.data.name})})}),Object(n.jsx)(Be.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ue.a,{children:[Object(n.jsxs)(Je.a,{paragraph:!0,children:["freeday: ",e.freeday,"  ",null!==e.time_start||null!==e.time_end?Object(n.jsxs)(n.Fragment,{children:[e.time_start,"~",e.time_end]}):Object(n.jsx)(n.Fragment,{})]}),Object(n.jsxs)(Je.a,{paragraph:!0,children:[e.intro,"ganpeanpngeaongoianlkneoanoeanp napnegiopwaniogenaopnpoeranopewran npagnw"]})]})}),Object(n.jsxs)("form",{className:"match_form",children:[Object(n.jsx)("input",{type:"text",placeholder:"write the first message!",className:"match_input"}),Object(n.jsx)("button",{className:"match_submit",children:"SEND"})]})]})}var Ke=Object(Te.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5]}}}));function Qe(e){var t=Ke();return console.log("props1:",e),Object(n.jsx)("div",{children:Object(n.jsx)(Re.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:e.popup,closeAfterTransition:!0,BackdropComponent:Fe.a,BackdropProps:{timeout:500},children:Object(n.jsx)(Pe.a,{in:e.popup,children:Object(n.jsx)("div",{className:t.paper,children:Object(n.jsx)(Ye,{data:e.person,handleClose:e.onClose})})})})})}a(138);var Xe=Object(Te.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",marginRight:"auto",outline:"none",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));var Ze=function(e){var t=Xe(),a=i.a.useState(!1),c=Object(ie.a)(a,2),r=c[0],s=c[1];return Object(n.jsxs)(Le.a,{id:"card_root",children:[Object(n.jsx)(De.a,{className:"media",image:e.data.image,title:"Nana Mori"}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Je.a,{variant:"body2",color:"textSecondary",component:"p",children:e.data.name})}),Object(n.jsxs)(Je.a,{style:{marginLeft:"10px"},children:["native language: ",e.data.native_lan,Object(n.jsx)("br",{}),"want to learn: ",e.data.foreign_lan,Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsx)(We.a,{disableSpacing:!0,children:Object(n.jsx)(ue.a,{className:Object(Ge.a)(t.expand,Object(se.a)({},t.expandOpen,r)),onClick:function(){s(!r)},"aria-expanded":r,"aria-label":"show more",children:Object(n.jsx)(ze.a,{})})}),Object(n.jsx)(Be.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ue.a,{children:[Object(n.jsxs)(Je.a,{paragraph:!0,children:[null!=e.data.freeday?Object(n.jsxs)(n.Fragment,{children:["freeday: ",e.data.freeday]}):null,"  ",null!=e.data.time_start||null!=e.data.time_end?Object(n.jsxs)(n.Fragment,{children:[e.data.time_start,"~",e.data.time_end]}):Object(n.jsx)(n.Fragment,{})]}),Object(n.jsx)(Je.a,{paragraph:!0,children:e.intro})]})})]})};var $e=Object(l.b)((function(e){return{id:Number(e.auth_reducer.id),swiped:e.profile_reducer.swiped,liked:e.profile_reducer.liked,swipe_id:e.swipe_reducer.swipe_id}}),(function(e){return{Swipe:function(t,a,n){return e(function(e,t,a){return function(){var n=Object(Q.a)(K.a.mark((function n(c){var r,s,i;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r={headers:{"Content-Type":"application/json"}},s=null,s=null===a?JSON.stringify({swiped:t}):JSON.stringify({swiped:t,liked:a}),n.next=6,Z.a.put("".concat("http://localhost:8000","/swipe/update/").concat(e,"/"),s,r);case 6:i=n.sent,c({type:U,payload:i.data}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log("error::",n.t0.response),c({type:"SWIPE_UPDATE_FAIL"});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(t,a,n))}}}))((function(e){var t=Object(s.useState)([]),a=Object(ie.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)(),l=Object(ie.a)(o,2),u=(l[0],l[1]),d=Object(s.useState)(!1),j=Object(ie.a)(d,2),p=j[0],b=j[1],m=Object(s.useState)(),h=Object(ie.a)(m,2),g=h[0],O=h[1],f=[];Object(s.useEffect)((function(){Z.a.get("".concat("http://localhost:8000","/profile/list/")).then((function(e){r([].concat(Object(ge.a)(c),Object(ge.a)(e.data)))}))}),[]);var x=c,_=Object(s.useMemo)((function(){return Array(c.length).fill(0).map((function(e){return i.a.createRef()}),[])})),v=function(e){var t=c.filter((function(e){return!f.includes(e.name)}));if(t.length){var a=t[t.length-1].name,n=c.map((function(e){return e.name})).indexOf(a);f.push(a),_[n].current.swipe(e)}};return Object(n.jsxs)("div",{children:[Object(n.jsx)(ye,{}),Object(n.jsxs)("div",{className:"cards",children:[c.map((function(t,a){return t.user!==e.id?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(fe.a,{ref:_[a],className:"swipe",onSwipe:function(a){return function(t,a){u(t),f.push(a.name),"right"===t?(e.Swipe(e.swipe_id,a.user,a.user),Z.a.get("".concat("http://localhost:8000","/swipe/detail/").concat(a.user,"/")).then((function(t){t.data.liked.includes(e.id)&&(console.log("MATCH"),O(a),b(!0))}))):e.Swipe(e.swipe_id,a.user,null)}(a,t)},onCardLeftScreen:function(){return e=t.name,console.log(e+" left the screen!"),x=x.filter((function(t){return t.name!==e})),void r(x);var e},preventSwipe:["up","down"],children:Object(n.jsx)(Ze,{data:t})},t.name)}):Object(n.jsx)(n.Fragment,{})})),Object(n.jsx)(Qe,{person:g,onClose:function(){b(!1)},popup:p})]}),Object(n.jsx)(Ae,{swipe_left:function(){return v("left")},swipe_right:function(){return v("right")}})]})})),et=(a(80),Object(Te.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",marginRight:"auto",outline:"none",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})));var tt=Object(l.b)((function(e){return{name:e.profile_reducer.name,gender:e.profile_reducer.gender,age:e.profile_reducer.age,native_lan:e.profile_reducer.native_lan,foreign_lan:e.profile_reducer.foreign_lan,image:e.profile_reducer.image,location:e.profile_reducer.location,time_start:e.profile_reducer.time_start,time_end:e.profile_reducer.time_end,intro:e.profile_reducer.intro,freeday:e.profile_reducer.freeday}}),null)((function(e){var t=et(),a=i.a.useState(!1),c=Object(ie.a)(a,2),r=c[0],s=c[1];return Object(n.jsxs)(Le.a,{id:"root",children:[Object(n.jsx)(De.a,{className:"media",image:e.image,title:e.name}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Je.a,{variant:"body2",color:"textSecondary",component:"p",children:e.name})}),Object(n.jsx)(We.a,{disableSpacing:!0,children:Object(n.jsx)(ue.a,{className:Object(Ge.a)(t.expand,Object(se.a)({},t.expandOpen,r)),onClick:function(){s(!r)},"aria-expanded":r,"aria-label":"show more",children:Object(n.jsx)(ze.a,{})})}),Object(n.jsx)(Be.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ue.a,{children:[Object(n.jsxs)(Je.a,{children:["My native language: ",e.native_lan,Object(n.jsx)("br",{}),"I want to learn: ",e.foreign_lan,Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsxs)(Je.a,{paragraph:!0,children:["freeday: ",e.freeday,"  ",function(){e.time_start||e.time_end?(n.Fragment,e.time_start,e.time_end):n.Fragment}]}),Object(n.jsx)(Je.a,{paragraph:!0,children:e.intro})]})})]})}));a(139);var at=Object(l.b)(null,(function(e){return{logout:function(){return e(te())}}}))((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(ye,{}),Object(n.jsxs)("div",{className:"setting",children:[Object(n.jsx)(tt,{}),Object(n.jsxs)("div",{className:"Button",children:[Object(n.jsx)(G.b,{to:"/edit",children:Object(n.jsx)("button",{className:"setting_button1",onfocus:"this.blur();",children:Object(n.jsx)("span",{children:"Edit Your Profile"})})}),Object(n.jsx)(G.b,{to:"/",children:Object(n.jsx)("button",{className:"setting_button1",onfocus:"this.blur();",onClick:e.logout,children:Object(n.jsx)("span",{children:"Log Out"})})}),Object(n.jsx)("button",{className:"setting_button3",onfocus:"this.blur();",children:Object(n.jsx)("span",{children:"Delete Your Account"})})]})]})]})})),nt=a(91),ct=a.n(nt),rt=(a(140),a(92)),st=a.n(rt),it=a(93),ot=a.n(it),lt=Object(Te.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",marginRight:"auto",outline:"none",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),ut=Object(l.b)((function(e){return{profile_id:e.profile_reducer.profile_id,name:e.profile_reducer.name,gender:e.profile_reducer.gender,age:e.profile_reducer.age,native_lan:e.profile_reducer.native_lan,foreign_lan:e.profile_reducer.foreign_lan,image:e.profile_reducer.image,location:e.profile_reducer.location,time_start:e.profile_reducer.time_start,time_end:e.profile_reducer.time_end,intro:e.profile_reducer.intro,freeday:e.profile_reducer.freeday}}),(function(e){return{update:function(t,a,n,c,r,s,i,o,l,u,d,j){return e(function(e,t,a,n,c,r,s,i,o,l,u,d){return function(){var j=Object(Q.a)(K.a.mark((function j(p){var b,m,h;return K.a.wrap((function(j){for(;;)switch(j.prev=j.next){case 0:return j.prev=0,b={headers:{"Content-Type":"multipart/form-data"}},(m=new FormData).append("name",t),m.append("gender",n),m.append("native_lan",c),m.append("foreign_lan",r),m.append("location",i),m.append("time_start",o),m.append("time_end",l),m.append("intro",u),m.append("freeday",d),""!==s&&(console.log("appended"),m.append("image",s)),console.log("type::",typeof a),j.next=16,Z.a.put("".concat("http://localhost:8000","/profile/update/").concat(e,"/"),m,b);case 16:h=j.sent,p({type:E,payload:h.data}),j.next=25;break;case 20:j.prev=20,j.t0=j.catch(0),console.log(j.t0.response.request.response),console.log(j.t0),p({type:A});case 25:case"end":return j.stop()}}),j,null,[[0,20]])})));return function(e){return j.apply(this,arguments)}}()}(t,a,n,c,r,s,i,o,l,u,d,j))}}}))((function(e){var t=Object(s.useState)(!1),a=Object(ie.a)(t,2),c=a[0],r=a[1],o=Object(s.useState)({profile_id:e.profile_id,name:e.name,gender:e.gender,age:e.age,native_lan:e.native_lan,foreign_lan:e.foreign_lan,location:e.location,time_start:e.time_start,time_end:e.time_end,intro:e.intro,freeday:e.freeday}),l=Object(ie.a)(o,2),d=l[0],j=l[1],p=Object(s.useState)(e.image),b=Object(ie.a)(p,2),m=b[0],h=b[1],g=["Arabic","Bengali","Burmese","Chinese","English","French","German","Gujarati","Hindi","Italian","Japanese","Kannada","Korean","Malayalam","Marathi","Oriya","Panjabi","Persian","Polish","Portuguese","Russian","Spanish","Tamil","Telugu","Thai","Turkish","Ukrainian","Urdu","Vietnamese"],O=lt(),f=i.a.useState(!1),x=Object(ie.a)(f,2),_=x[0],v=x[1];var S=d.profile_id,y=d.name,w=d.age,N=d.gender,I=d.native_lan,k=d.foreign_lan,C=d.location,E=d.time_start,A=d.time_end,T=d.intro,R=d.freeday,F=function(e){return j(Object(u.a)(Object(u.a)({},d),{},Object(se.a)({},e.target.name,e.target.value)))};return c?Object(n.jsx)(V.a,{to:"/setting"}):Object(n.jsxs)("div",{className:"edit",children:[Object(n.jsx)("div",{className:"edit_header",children:Object(n.jsx)(G.b,{to:"/setting",children:Object(n.jsx)(ue.a,{style:{outline:"none"},children:Object(n.jsx)(ct.a,{})})})}),Object(n.jsxs)("div",{className:"edit_content",children:[Object(n.jsxs)(Le.a,{id:"root",children:[Object(n.jsx)(De.a,{className:"media",image:m}),Object(n.jsx)(Ue.a,{children:Object(n.jsx)(Je.a,{variant:"body2",color:"textSecondary",component:"p",children:y})}),Object(n.jsx)(We.a,{disableSpacing:!0,children:Object(n.jsx)(ue.a,{className:Object(Ge.a)(O.expand,Object(se.a)({},O.expandOpen,_)),onClick:function(){v(!_)},"aria-expanded":_,"aria-label":"show more",children:Object(n.jsx)(ze.a,{})})}),Object(n.jsx)(Be.a,{in:_,timeout:"auto",unmountOnExit:!0,children:Object(n.jsxs)(Ue.a,{children:[Object(n.jsxs)(Je.a,{children:["My native language: ",I,Object(n.jsx)("br",{}),"I want to learn: ",k,Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]}),Object(n.jsxs)(Je.a,{paragraph:!0,children:["free time: ",R,Object(n.jsx)("br",{}),""!==E||""!==A?Object(n.jsxs)(n.Fragment,{children:[E,"~",A]}):Object(n.jsx)(n.Fragment,{})]}),Object(n.jsx)(Je.a,{paragraph:!0,id:"profile_intro",children:T})]})})]}),Object(n.jsx)("div",{className:"edit_setting",children:Object(n.jsxs)("form",{className:"edit_form",onSubmit:function(t){t.preventDefault(),e.update(S,y,w,N,I,k,m,C,E,A,T,R),r(!0)},encType:"multipart/form-data",children:[Object(n.jsxs)("div",{className:"edit_container",children:[Object(n.jsx)("h1",{children:"Setting"}),Object(n.jsx)("input",{placeholder:"name",type:"text",name:"name",value:y,className:"edit_input",onChange:F}),Object(n.jsx)("input",{placeholder:"age",type:"number",name:"age",value:parseInt(w),className:"edit_input",onChange:F}),Object(n.jsxs)("select",{className:"edit_select",name:"gender",onChange:F,children:[Object(n.jsx)("option",{hidden:!0,children:"gender"}),["Male","Female","Other"].map((function(e){return e===N?Object(n.jsx)("option",{selected:!0,value:e,children:e}):Object(n.jsx)("option",{value:e,children:e})}))]}),Object(n.jsxs)("select",{className:"edit_select",name:"native_lan",onChange:F,required:!0,children:[Object(n.jsx)("option",{hidden:!0,children:"You speak..."}),g.map((function(e){return e===I?Object(n.jsx)("option",{selected:!0,value:e,children:e}):Object(n.jsx)("option",{value:e,children:e})}))]}),Object(n.jsxs)("select",{className:"edit_select",name:"foreign_lan",onChange:F,required:!0,children:[Object(n.jsx)("option",{hidden:!0,children:"You want to learn ..."}),g.map((function(e){return e===k?Object(n.jsx)("option",{selected:!0,value:e,children:e}):Object(n.jsx)("option",{value:e,children:e})}))]}),Object(n.jsxs)("select",{className:"edit_select",name:"freeday",onChange:F,children:[Object(n.jsx)("option",{hidden:!0,children:"You are free on ..."}),["Monday","Thuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return e===R?Object(n.jsx)("option",{selected:!0,value:e,children:e}):Object(n.jsx)("option",{value:e,children:e})}))]}),Object(n.jsxs)("div",{className:"edit_time",children:[Object(n.jsx)("input",{type:"time",className:"edit_input_time",name:"time_start",value:E,onChange:F}),"~",Object(n.jsx)("input",{type:"time",className:"edit_input_time",name:"time_end",value:A,onChange:F})]}),Object(n.jsxs)("label",{className:"edit_input_file",children:[""!=m?Object(n.jsxs)("p1",{children:[Object(n.jsx)(st.a,{className:"edit_icon"}),m.name]}):Object(n.jsxs)("p1",{children:[Object(n.jsx)(ot.a,{className:"edit_icon"}),"choose your image"]}),Object(n.jsx)("input",{placeholder:"image",type:"file",name:"image",className:"edit_input",accept:"image/png, image/jpeg",onChange:function(e){console.log(e.target.files[0]);var t=e.target.files[0];h(t)}})]}),Object(n.jsx)("textarea",{placeholder:"Write your profile message here!",name:"intro",value:T,type:"text",className:"edit_input",onChange:F})]}),Object(n.jsx)("button",{className:"edit_button",type:"submit",children:Object(n.jsx)("span",{children:"SAVE"})})]})})]})]})})),dt=a(51),jt=a(31),pt=function(){function e(){Object(dt.a)(this,e),this.callbacks={},this.socketRef=null}return Object(jt.a)(e,null,[{key:"getInstance",value:function(){return e.instace||(e.instance=new e),e.instance}}]),Object(jt.a)(e,[{key:"connect",value:function(e){var t=this,a="ws://localhost:8000/ws/chat/".concat(e,"/");this.socketRef=new WebSocket(a),this.socketRef.onopen=function(){console.log("open")},this.socketNewMessage(JSON.stringify({command:"messages"})),this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onclose=function(){console.log("close"),t.connect()},this.socketRef.onerror=function(e){console.log("error in Websocket::",e.message)}}},{key:"disconnect",value:function(){this.socketRef.close()}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),a=t.command;console.log("Parsedata in Websocket::",t),0!==Object.keys(this.callbacks).length&&("messages"===a&&this.callbacks[a](t.messages),"new_message"===a&&this.callbacks[a](t.message))}},{key:"fetchMessages",value:function(e,t){this.sendMessage({command:"fetch_messages",username:e,ChatID:t})}},{key:"newChatMessage",value:function(e){console.log("newChatMessage::",e),this.sendMessage({command:"new_message",from:e.from,message:e.content,ChatID:e.ChatID})}},{key:"addCallbacks",value:function(e,t){this.callbacks.messages=e,this.callbacks.new_message=t}},{key:"sendMessage",value:function(e){console.log("data in sendMessage",e);try{this.socketRef.send(JSON.stringify(Object(u.a)({},e)))}catch(t){console.log(t.message)}}},{key:"state",value:function(){return this.socketRef.readyState}}]),e}();pt.instance=null;var bt=pt.getInstance(),mt=a(179);a(141);function ht(e,t){setTimeout((function(){if(1===t.state())return console.log("connection is secure"),void e();console.log("waiting for connection ...."),ht(e,t)}),100)}function gt(e,t,a,n){ht((function(){a.addCallbacks(e,t),a.fetchMessages(n.name,n.ChatID)}),a)}var Ot=Object(l.b)((function(e,t){return{name:e.auth_reducer.name,ChatID:t.match.params.ChatID}}),null)((function(e){var t=Object(s.useState)(""),a=Object(ie.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)([]),o=Object(ie.a)(i,2),l=o[0],u=o[1],d=function(e){console.log("fetchMessage"),e&&u([].concat(Object(ge.a)(l),Object(ge.a)(e.reverse())))},j=function(e){u([].concat(Object(ge.a)(l),Object(ge.a)(e))),console.log(l)};return Object(s.useEffect)((function(){gt(d,j,bt,e),bt.connect(e.ChatID)}),[e.ChatID]),Object(n.jsxs)("div",{className:"chatScreen",children:[Object(n.jsxs)("header",{className:"chatScreen_header",children:[Object(n.jsx)(G.b,{to:"/chatpanel",children:Object(n.jsx)(ue.a,{id:"chatScreen_header_icon",children:Object(n.jsx)(le.a,{style:{fontSize:"30px"}})})}),Object(n.jsx)(ce.a,{id:"chatScreen_logo"})]}),Object(n.jsx)("div",{style:{textAlign:"center"},children:Object(n.jsx)("p1",{className:"chatScreen_match",children:"YOU MATCHED WITH ELLEN ON 10/08/20"})}),Object(n.jsx)("ul",{className:"chatScreen_messages",children:l.map((function(t){return t.name!==e.name?Object(n.jsxs)("div",{className:"chatScreen_message",children:[Object(n.jsx)(mt.a,{className:"chatScreen_image",alt:t.name,src:t.image}),Object(n.jsx)("p",{className:"chatScreen_reply",children:t.content}),Object(n.jsx)("small",{children:t.timestamp.substring(0,16)})]}):Object(n.jsx)("div",{className:"chatScreen_message",children:Object(n.jsxs)("p",{className:"chatScreen_sent",children:[t.content,Object(n.jsx)("br",{}),Object(n.jsx)("small",{children:t.timestamp.substring(0,16)})]})})}))}),Object(n.jsx)("div",{children:Object(n.jsxs)("form",{className:"chatScreen_input",onSubmit:function(t){!function(e,t,a,n){e.preventDefault();var c={from:a.name,content:n,chatID:a.ChatID};console.log("messageObject::",c),c.content&&(console.log(c.content),t.newChatMessage(c))}(t,bt,e,c),console.log("submitted"),console.log(l),r("")},children:[Object(n.jsx)("input",{value:c,onChange:function(e){return r(e.target.value)},type:"text",className:"chatScreen_inputField",placeholder:"message"}),Object(n.jsx)("button",{className:"chatScreen_submit",type:"submit",children:"SEND"})]})})]})}));a(142);var ft=function(e){var t=e.name,a=e.message,c=e.image,r=e.timestamp,s=e.ChatID,i="chat/".concat(s,"/");return Object(n.jsx)(G.b,{to:i,children:Object(n.jsxs)("div",{className:"chatpanel",children:[Object(n.jsx)(mt.a,{className:"chatpanel_image",alt:t,src:c}),Object(n.jsxs)("div",{className:"chatpanel_detail",children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("p",{children:a})]}),Object(n.jsx)("p",{className:"chatpanel_timestamp",children:r})]})})};var xt=Object(l.b)((function(e){return{username:e.auth_reducer.name}}),null)((function(e){var t=Object(s.useState)([]),a=Object(ie.a)(t,2),c=a[0],r=a[1];return Object(s.useEffect)((function(){Z.a.defaults.headers={"Content-Type":"application/json"},Z.a.get("".concat("http://localhost:8000","/chat-api/chat/?name=").concat(e.username)).then((function(e){console.log("res.data[0]::",e.data[0]),r([].concat(Object(ge.a)(c),[e.data[0]]))}))}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(ye,{}),Object(n.jsx)("h1",{className:"chatpanel_title",children:"Messages"}),Object(n.jsx)("div",{className:"chats",children:c.map((function(e){return Object(n.jsx)(ft,{name:e.name,message:e.message,image:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcS8UPpwQxL6RFeJ5tNGbpYDkOOB0OCTzq1kgw&usqp=CAU",timestamp:"10 minutes ago",ChatID:e.id})}))})]})})),_t=(Object(l.b)((function(e){return{isAuthenticated:e.auth_reducer.isAuthenticated}}),(function(e){return{checkAuthenticated:function(){return e(ee())},load_user:function(){return e($())}}}))((function(e){return Object(s.useEffect)((function(){e.checkAuthenticated(),e.load_user()}),[]),e.isAuthenticated?Object(n.jsx)("div",{children:e.children}):Object(n.jsx)(V.a,{to:"/"})})),Object(l.b)(null,(function(e){return{checkAuthenticated:function(){return e(ee)}}}))((function(e){return Object(s.useEffect)((function(){e.checkAuthenticated()})),Object(n.jsx)(G.a,{children:Object(n.jsxs)(V.d,{children:[Object(n.jsx)(V.b,{exact:!0,path:"/",component:re}),Object(n.jsx)(V.b,{exact:!0,path:"/login",component:de}),Object(n.jsx)(V.b,{exact:!0,path:"/signup",component:je}),Object(n.jsx)(V.b,{exact:!0,path:"/reset_password",component:me}),Object(n.jsx)(V.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:he}),Object(n.jsx)(V.b,{exact:!0,path:"/activate/:uid/:token",component:pe}),Object(n.jsx)(V.b,{exact:!0,path:"/chat/:ChatID",component:Ot}),Object(n.jsx)(V.b,{exact:!0,path:"/swipe",component:$e}),Object(n.jsx)(V.b,{exact:!0,path:"/setting",component:at}),Object(n.jsx)(V.b,{exact:!0,path:"/chatpanel",component:xt}),Object(n.jsx)(V.b,{exact:!0,path:"/edit",component:ut}),Object(n.jsx)(V.b,{exact:!0,path:"/match",component:Qe})]})})}))),vt=a(94),St=[a(95).a],yt=Object(o.createStore)(z,{},Object(vt.composeWithDevTools)(o.applyMiddleware.apply(void 0,St))),wt=Object(n.jsx)(l.a,{store:yt,children:Object(n.jsx)(_t,{})});r.a.render(wt,document.getElementById("app"))},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){}},[[143,1,2]]]);
//# sourceMappingURL=main.3480a6ab.chunk.js.map